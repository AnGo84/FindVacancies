(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1451:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return u})),t.d(a,"c",(function(){return s}));var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1453);t.d(a,"d",(function(){return i.c}));var l=function(e){var a=e.children;return r.a.createElement(i.a,null,a)};l.displayName="components/PageHead/index/PageHead",l.propTypes={children:o.a.node};var u=function(e){var a=e.content,t=e.openGraphContent;return r.a.createElement(n.Fragment,null,r.a.createElement(i.b,{name:"description",content:a}),r.a.createElement(i.b,{property:"og:description",content:t||a}))};u.displayName="components/PageHead/index/PageDescription",u.propTypes={content:o.a.string,openGraphContent:o.a.string};var s=function(e){var a=e.content;return r.a.createElement(i.b,{name:"keywords",content:a})};s.displayName="components/PageHead/index/PageKeywords",s.propTypes={content:o.a.string}},1457:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=function(e){var a=e.children;return r.a.createElement("div",{className:"row-content"},a)};i.displayName="components/RowContent/index/RowContent",i.propTypes={children:o.a.node},a.a=i},1463:function(e,a,t){"use strict";var n=t(1);function r(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.a=function(e){var a=r(Object(n.useState)(e),2),t=a[0],c=a[1];return[t,Object(n.useCallback)((function(){c((function(e){return!e}))}),[]),Object(n.useCallback)((function(e){c(Boolean(e))}),[])]}},1483:function(e,a,t){"use strict";a.a={CREATE:"CREATE",CREATE_FROM_DRAFT:"CREATE_FROM_DRAFT",CREATE_FROM_TEMPLATE:"CREATE_FROM_TEMPLATE",RESTORE:"RESTORE",DUPLICATE:"DUPLICATE",EDIT:"EDIT"}},1498:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(81),l=t.n(i),u=t(1445);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function d(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,a){return!a||"object"!==s(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):a}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,a){return(v=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function f(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var b=function(){};b=t(249).default;var h=o.a.shape({id:o.a.string}),g=function(e){function a(){return p(this,a),m(this,y(a).apply(this,arguments))}var t,n,c;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&v(e,a)}(a,e),t=a,(n=[{key:"componentDidMount",value:function(){this.element=l.a.findDOMNode(this),this.element.addEventListener("HH-Banners-Init",this.setAutoHeight.bind(this)),this.initBanners()}},{key:"componentDidUpdate",value:function(){this.initBanners()}},{key:"componentWillUnmount",value:function(){this.element.removeEventListener("HH-Banners-Init",this.setAutoHeight)}},{key:"shouldComponentUpdate",value:function(e){return e.search!==this.props.search||e.pathname!==this.props.pathname}},{key:"initBanners",value:function(){var e=this.props,a=e.id,t=e.templateName,n=e.dfpParams,r=e.userTargeting;this.element.style.height="".concat(this.element.clientHeight,"px"),this.element.innerHTML="";var c={id:a,templateName:t};n&&(c.dfpParams={type:"dfp",bannerId:a,place:a,dfpBannerId:n.dfpId,cId:n.cId,bannerSize:n.bannerSize,sizeMap:n.sizeMap||[],disableAdvRequest:n.disableAdvRequest,bannerAdTargeting:n.bannerAdTargeting||{},bannerCommonTargeting:r}),b(this.element,c)}},{key:"setAutoHeight",value:function(){this.element.style.height="auto"}},{key:"render",value:function(){return this.props.children||r.a.createElement("div",null)}}])&&d(t.prototype,n),c&&d(t,c),a}(n.Component);f(g,"propTypes",{id:o.a.string,templateName:o.a.string,children:o.a.node,search:o.a.string,pathname:o.a.string,dfpParams:o.a.object,userTargeting:o.a.object}),f(g,"defaultProps",{templateName:"HHC-Banners-Place-Template"}),g.displayName="components/Banner/index/Banner",a.b=Object(u.connect)((function(e){return{pathname:e.router.location.pathname,search:e.router.location.search,userTargeting:e.userTargeting}}))(g)},1512:function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return o}));var n=t(103),r=function(e){return e?"true":"false"},c=function(e){return e&&e.length>0?e.map(String):[]},o=function(e){var a=String(e);return a.length<=4?a:n.a.format(a,{decimalLength:null,groupSeparator:"Â "})}},1530:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1445),l=t(1444),u=t(1491),s=t(1449),p=t(1454);function d(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}var m=Object(p.e)("updateInfo"),y=t(1460),v=t(1596);function f(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b="CreateVacancy",h=function e(a){var t=a.Component,c=a.triggerType,o=a.onClose,i=a.vacanciesIds,l=a.dispatchModal,s=a.permissions,p=a.vacanciesByManager,d=a.fetchUpdateInfo,m=a.addNotification,y=a.trls,h=f(Object(n.useState)(!1),2),g=h[0],O=h[1],E=Object(n.useMemo)((function(){return Object.values(p).reduce((function(e,a){if(!a.vacancies)return e;var t=a.vacancies.list,n=void 0===t?[]:t;return e.concat(n)}),[]).reduce((function(e,a){var t=a.vacancyId,n=a.suggestProlongate;return i.includes(t)&&n?e.concat(t):e}),[])}),[p,i]),j=Object(n.useCallback)((function(){l({type:u.a,payload:{modalType:u.j,data:{isGroup:"batch"===c,vacanciesToProlongate:E,vacanciesIds:i}}}),o&&o()}),[E,i,c,l,o]),P=Object(n.useCallback)((function(){return O(!0),d({params:{id:i}}).then((function(){j(),O(!1)}),(function(){m(v.a),O(!1)}))}),[d,i,j,m]);return r.a.createElement(t,{triggerName:"prolongate",triggerType:c,onTrigger:P,batchLength:i.length,isPermitted:s.includes(b),isLoading:g},y[e.trls.prolongate])};h.displayName="components/VacancyActions/ProlongateAction/ProlongateActionComponent",h.propTypes={Component:o.a.elementType.isRequired,triggerType:o.a.string,onClose:o.a.func,vacanciesIds:o.a.arrayOf(o.a.number).isRequired,dispatchModal:o.a.func,permissions:o.a.array,vacanciesByManager:o.a.object,fetchUpdateInfo:o.a.func,addNotification:o.a.func,trls:o.a.object},h.trls={prolongate:"vacancy.update.trigger"};a.b=Object(i.connect)((function(e){return{permissions:e.permissions,vacanciesByManager:e.vacanciesByManager}}),{fetchUpdateInfo:function(e){var a=e.params;return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/employer/vacancy/update_info",{params:a});case 2:return n=e.sent,t(m(n)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){d(c,n,r,o,i,"next",e)}function i(e){d(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()},addNotification:y.a})(Object(l.b)(h))},1541:function(e,a,t){"use strict";function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return i})),t.d(a,"d",(function(){return l})),t.d(a,"c",(function(){return u}));var o="single",i="all",l="uncheckAll",u="filterChecked",s=function(e,a){var t={};for(var n in e)n!==String(a)&&(t[n]=e[n]);return t},p=function(e,a,t){return 0===t.length?s(e,a):r({},e,c({},a,t))};a.e=function(e,a){var t=a.type,n=a.payload,d=void 0===n?{}:n,m=d.itemsIds,y=d.managerId,v=e[y]||[],f=[].concat(m),b=f[0];switch(t){case o:if(v.includes(b)){var h=v.filter((function(e){return e!==b}));return p(e,y,h)}return r({},e,c({},y,v.concat(b)));case i:return f.every((function(e){return v.includes(e)}))?s(e,y):r({},e,c({},y,f));case u:return p(e,y,v.filter((function(e){return f.includes(e)})));case l:return{};default:return e}}},1582:function(e,a,t){"use strict";t.d(a,"a",(function(){return I})),t.d(a,"c",(function(){return C}));var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1445),l=t(15),u=t(111),s=t(244),p=t(1260),d=t(24),m=t(27),y=t(1459),v=t(1510),f=t(640),b=t(1444),h=t(1491),g=t(1446),O=t(1508),E=t(1530);function j(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?j(Object(t),!0).forEach((function(a){T(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function T(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function w(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function A(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){S(c,n,r,o,i,"next",e)}function i(e){S(c,n,r,o,i,"throw",e)}o(void 0)}))}}var N=[l.a.breakpoint.L,l.a.breakpoint.M],I="auto_update_vacancy",C=function(e,a,t,r,c,o,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=Object(i.useDispatch)(),v=Object(i.useSelector)((function(e){return e.employerId})),f=Object(i.useSelector)((function(e){return e.employerManagers})),b=Object(n.useMemo)((function(){return f.map((function(e){return e.employerManagerId}))}),[f]);return Object(n.useCallback)(A(regeneratorRuntime.mark((function n(){var i,f,g,O,E,j,T,S,A,N,I,C;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t?h.i:h.g,!o){n.next=3;break}return n.abrupt("return");case 3:return l(!0),n.prev=4,n.next=7,d.default.putFormData("/shards/employer/vacancies/auto_update/info",{vacancyId:e});case 7:f=n.sent,n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(4),p(Object(y.a)(n.t0)),n.abrupt("return");case 14:return n.prev=14,l(!1),n.finish(14);case 17:if(O=(g=f).data,E=g.headers,null==u||u(),!s){n.next=26;break}return j=E["x-request-id"].split(",")[0],T=Object.values(O.unscheduled).concat(Object.values(O.scheduled)),S=Object.keys(O.forbidden.vacancies).map((function(e){return Number(e)})),r({type:h.a,payload:{modalType:0===T.length?h.h:h.g,data:{vacancyName:a,renewalSteps:T,failedToUpdate:S,groupId:j}}}),Object(m.SendScreenShownAnalyticsEvent)("group_auto_update",{labelGroupId:j,labelVacanciesToUpdate:T.map((function(e){return e.ids})).join(),labelFailedToUpdate:S.join(),labelStepsCount:T.length}),n.abrupt("return");case 26:Object(m.SendScreenShownAnalyticsEvent)("auto_update",{vacancyId:e,employerId:v,employerManagersId:b}),A=O.singleVacancyProlongationFailureReason,N=Object.values(c?O.scheduled:O.unscheduled),I=w(N,1),C=I[0],r({type:h.a,payload:{modalType:i,data:{vacancyId:e,vacancyName:a,autoRenewal:P({},C,{prolongationFailureReason:A}),isEdit:c}}});case 30:case"end":return n.stop()}}),n,null,[[4,10,14,17]])}))),[t,o,l,u,s,e,v,b,c,r,a,p])},M=function e(a){var t=a.Component,c=a.triggerType,o=a.vacancyId,l=a.dispatchModal,d=a.vacancyName,m=a.showAutoUpdateTip,y=a.autoProlongationCanBeCanceled,b=a.setTipClosed,h=a.onClose,j=a.vacanciesIds,P=void 0===j?[]:j,T=a.trls,S=w(Object(n.useState)(!0),2),A=S[0],M=S[1],_=w(Object(n.useState)(!1),2),R=_[0],k=_[1],U=Object(i.useSelector)((function(e){return e.permissions})),D=C(o||P,d,y,l,!1,R,k,h,!o),V=Object(n.useCallback)((function(e){M(N.includes(e))}),[]),x=Object(n.useCallback)((function(){M(!1),b(),f.default.markAsViewed(I)}),[b]);Object(v.a)(V);var q=r.a.createElement(t,{triggerName:"auto-update",triggerType:c,onTrigger:D,isLoading:R,isPermitted:U.includes(E.a),batchLength:P.length},T[e.trls.autoUpdate]);return m&&A?r.a.createElement(O.a,{show:!0,name:I,theme:s.a.themes.dark,onSeen:b,content:r.a.createElement(r.a.Fragment,null,T[e.trls.tip],r.a.createElement(p.a,{top:!0},r.a.createElement(u.b,{kind:u.b.kinds.promo,target:"_blank",Element:g.a,to:"/article/25987",onClick:x},T[e.trls.more]))),markAsViewedEvent:f.default.markAsViewedEvent.ON_HIDE},q):q};M.displayName="components/VacancyActions/AutoUpdateAction/AutoUpdateAction",M.propTypes={Component:o.a.elementType.isRequired,setTipClosed:o.a.func,showAutoUpdateTip:o.a.bool,triggerType:o.a.string,vacancyId:o.a.number,dispatchModal:o.a.func,vacancyName:o.a.string,autoProlongationCanBeCanceled:o.a.bool,onClose:o.a.func,trls:o.a.object},M.trls={autoUpdate:"vacancy.autoUpdate.trigger",tip:"vacancy.autoUpdate.tip",more:"vacancy.autoUpdate.more"},a.b=Object(b.b)(M)},1635:function(e,a,t){"use strict";t.d(a,"d",(function(){return l})),t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return s})),t.d(a,"c",(function(){return p}));var n=t(27);function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var o=["success","cancel"],i=["linkQuestionnaire","addQuestionnaire"],l=function(e,a){return o.includes(e)&&!i.includes(a.action)},u=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a?"".concat(window.globalVars.skillazURL).concat(a):"".concat(window.globalVars.skillazURL,"/hh?page=questionnaire&vacancyId=").concat(e)},s=function(e){return e===window.globalVars.skillazURL},p=function(e,a,t){Object(n.SendHHAnalyticsEvent)("skillazEvent",function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({goal:"PORTFOLIO-10079",labelPageId:t,labelEventId:e},(null==a?void 0:a.action)?{labelEventType:a.action}:{}))}},1691:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1491),l=t(1444),u=function e(a){var t=a.Component,c=a.triggerType,o=a.onClose,l=a.vacanciesIds,u=a.dispatchModal,s=a.checkedVacancies,p=a.trls,d=Object(n.useCallback)((function(){u({type:i.a,payload:{modalType:i.c,data:{vacanciesIds:l,checkedVacancies:s}}}),o&&o()}),[l,s,o,u]);return r.a.createElement(t,{triggerName:"archive",triggerType:c,onTrigger:d,batchLength:l.length,isPermitted:!0},p[e.trls.archive])};u.displayName="components/VacancyActions/ArchiveAction/ArchiveAction",u.trls={archive:"employer.myVacancyes.archivate"},u.propTypes={Component:o.a.elementType.isRequired,triggerType:o.a.string,onClose:o.a.func,vacanciesIds:o.a.arrayOf(o.a.number),dispatchModal:o.a.func,checkedVacancies:o.a.object,trls:o.a.object},a.a=Object(n.memo)(Object(l.b)(u))},1692:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(0),r=t.n(n),c=r.a.shape({ids:r.a.arrayOf(r.a.number),publicationType:r.a.string,scheduleTypesWithUpdatesCount:r.a.object,closestPossibleProlongation:r.a.string,maxLastUpdateDateTime:r.a.string,prolongationFailureReason:r.a.string})},1799:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(94);function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=Object(n.forwardRef)((function(e,a){var t=e.src,l=e.callbacks,u=i(e,["src","callbacks"]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(n.useEffect)((function(){return c.default.on({handlers:e})}),[e])}(l),r.a.createElement("iframe",o({ref:a},u,{src:t}))}));a.a=l},1899:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1445),l=t(1444),u=t(1530),s=function e(a){var t=a.Component,n=a.permissions,c=a.trls,o=a.vacancyId,i=a.triggerType;return r.a.createElement(t,{triggerName:"duplicate",triggerType:i,triggerHref:"/employer/vacancy/duplicate/".concat(o),isPermitted:n.includes(u.a)},c[e.trls.duplicate])};s.displayName="components/VacancyActions/DuplicateAction/DuplicateAction",s.propTypes={Component:o.a.elementType.isRequired,trls:o.a.object,vacancyId:o.a.number,triggerType:o.a.string,permissions:o.a.array},s.trls={duplicate:"employer.vacancy.button.duplicate"},a.a=Object(i.connect)((function(e){return{permissions:e.permissions}}))(Object(l.b)(s))},1900:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(1445),o=t(0),i=t.n(o),l=t(40),u=t(1444),s=t(1491),p=t(1530),d=t(1873),m=t(1460),y=t(1596);function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function f(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function b(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function g(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function O(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){g(c,n,r,o,i,"next",e)}function i(e){g(c,n,r,o,i,"throw",e)}o(void 0)}))}}var E=function(e){var a=e.dispatchModal,t=e.onClose,n=e.vacancyId,r=e.employerId,c=e.from;l.default.trackAnalyticsEvent("account","update-vacancy",c,n),a({type:s.a,payload:{modalType:s.n,data:{vacancyId:n,employerId:r,from:c}}}),null==t||t()},j=function e(a){var t=a.Component,c=a.trls,o=a.triggerType,i=a.permissions,l=h(a,["Component","trls","triggerType","permissions"]),u=b(Object(n.useState)(!1),2),s=u[0],d=u[1],m=b(Object(n.useState)(!1),2),g=m[0],j=m[1],P=function(e){var a=e.addNotification,t=e.fetchVacancyUpgrades,r=e.vacancyUpgrades,c=e.vacancyId,o=e.employerId,i=e.isLoading,l=e.setLoading,u=e.dispatchModal,s=e.onClose,p=e.from;return Object(n.useCallback)(O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if(!r){e.next=5;break}return E({dispatchModal:u,onClose:s,vacancyId:c,employerId:o,from:p}),e.abrupt("return");case 5:return l(!0),e.prev=6,e.next=9,t({params:{vacancyId:c}});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),a(y.a),e.abrupt("return");case 15:return e.prev=15,l(!1),e.finish(15);case 18:E({dispatchModal:u,onClose:s,vacancyId:c,employerId:o,from:p});case 19:case"end":return e.stop()}}),e,null,[[6,11,15,18]])}))),[i,r,l,u,s,c,o,p,t,a])}(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(Object(t),!0).forEach((function(a){f(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},l,{isLoading:s,setLoading:d}));return Object(n.useEffect)((function(){"#upgrade"!==window.location.hash||g||(j(!0),P())}),[P,g,j]),r.a.createElement(t,{triggerName:"upgrade",triggerType:o,onTrigger:P,isLoading:s,isPermitted:i.includes(p.a)},c[e.trls.improve])};j.displayName="components/VacancyActions/UpgradeAction/UpgradeAction",j.trls={info:"vacancy.update.text",upgradeTitle:"vacancy.upgrade.popup.title",fail:"employer.service.message.fail",cancel:"employer.myVacancyes.move.cancel",improve:"vacancy.tools.improve"},j.propTypes={Component:i.a.elementType.isRequired,vacancyId:i.a.number,triggerType:i.a.string,onClose:i.a.func,dispatchModal:i.a.func,vacancyUpgrades:i.a.object,permissions:i.a.array,fetchVacancyUpgrades:i.a.func,addNotification:i.a.func,trls:i.a.object,from:i.a.string},a.a=Object(c.connect)((function(e,a){var t=e.vacancyUpgrades,n=e.permissions;return{vacancyUpgrades:t[a.vacancyId],permissions:n}}),{fetchVacancyUpgrades:d.a,addNotification:m.a})(Object(u.b)(j))},1901:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1445),l=t(1449),u=t(1444),s=t(1491),p=t(1902),d=t(1530),m=t(1459);function y(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(Object(t),!0).forEach((function(a){b(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function b(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function h(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function g(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){h(c,n,r,o,i,"next",e)}function i(e){h(c,n,r,o,i,"throw",e)}o(void 0)}))}}function O(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var E=function(e){var a=e.dispatchModal,t=(e.onClose,O(e,["dispatchModal","onClose"]));a({type:s.a,payload:{modalType:s.d,data:t}})},j=function(){var e=g(regeneratorRuntime.mark((function e(a){var t,n,r,c,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.vacancyId,n=a.setLoading,r=a.onClose,c=a.managerId,o=a.vacancyAutoProlongation,i=a.location,n(!0),e.prev=2,e.next=5,o({action:"disable",vacancyId:t,managerId:c,location:i});case 5:return e.prev=5,null==r||r(),n(!1),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[2,,5,9]])})));return function(a){return e.apply(this,arguments)}}(),P=function(){var e=g(regeneratorRuntime.mark((function e(a){var t,n,r,c,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.vacancyId,n=a.setLoading,r=a.showDefaultError,c=a.onClose,o=a.modalParams,n(!0),e.prev=2,e.next=5,l.a.get("/shards/employer/vacancies/auto_prolongation/requirements",{params:{vacancyId:t}});case 5:i=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),r(e.t0),e.abrupt("return");case 12:return e.prev=12,null==c||c(),n(!1),e.finish(12);case 16:E(f({},o,{requirements:i}));case 17:case"end":return e.stop()}}),e,null,[[2,8,12,16]])})));return function(a){return e.apply(this,arguments)}}(),T=function e(a){var t=a.Component,c=a.triggerType,o=a.permissions,i=a.trls,l=O(a,["Component","triggerType","permissions","trls"]),u=y(Object(n.useState)(!1),2),s=u[0],p=function(e){var a=e.isAutoProlongationPlanned,t=e.isPromoVacancy,r=e.vacancyId,c=e.managerId,o=e.showDefaultError,i=e.vacancyAutoProlongation,l=e.onClose,u=e.dispatchModal,s=e.expireTime,p=e.isLoading,d=e.setLoading,m=e.location;return Object(n.useCallback)(g(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=6;break}return e.next=5,j({vacancyId:r,setLoading:d,onClose:l,managerId:c,vacancyAutoProlongation:i,location:m});case 5:return e.abrupt("return");case 6:if(n={dispatchModal:u,vacancyId:r,managerId:c,isPromoVacancy:t,expireTime:s},!t){e.next=11;break}E(n),e.next=13;break;case 11:return e.next=13,P({vacancyId:r,setLoading:d,showDefaultError:o,onClose:l,modalParams:n});case 13:case"end":return e.stop()}}),e)}))),[a,t,r,c,o,i,l,u,s,p,d,m])}(f({},l,{isLoading:s,setLoading:u[1]}));return r.a.createElement(t,{triggerName:"auto-prolongation-toggle",triggerType:c,onTrigger:p,isPermitted:o.includes(d.a),isLoading:s},i[e.trls[l.isAutoProlongationPlanned?"disable":"enable"]])};T.displayName="components/VacancyActions/AutoProlongationAction/AutoProlongationAction",T.trls={enable:"employer.vacancies.autoProlongation.enable",disable:"employer.vacancies.autoProlongation.disable"},T.propTypes={Component:o.a.elementType.isRequired,triggerType:o.a.string,onClose:o.a.func,vacancyId:o.a.number,dispatchModal:o.a.func,permissions:o.a.array,isPromoVacancy:o.a.bool,expireTime:o.a.number,managerId:o.a.number,isAutoProlongationPlanned:o.a.bool,vacancyAutoProlongation:o.a.func,showDefaultError:o.a.func,trls:o.a.object,location:o.a.object},a.a=Object(i.connect)((function(e){return{permissions:e.permissions,location:e.router.location}}),{vacancyAutoProlongation:p.a,showDefaultError:m.a})(Object(u.b)(T))},1902:function(e,a,t){"use strict";var n=t(1449),r=t(1501),c=t(1497),o=t(1460),i=t(1514);function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function u(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}a.a=function(e){var a=e.action,t=e.vacancyId,s=e.managerId,p=e.purchaseRequired,d=e.agreementId,m=e.location;return function(e,y){var v=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){u(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},y().vacanciesByManager[s].vacancies.list.find((function(e){return e.vacancyId===t})),{canEnableAutoProlongation:"disable"===a,canDisableAutoProlongation:"enable"===a});return n.a.post("/shards/employer/vacancies/auto_prolongation/".concat(a),{vacancyId:t,purchaseRequired:p,agreementId:d}).then((function(t){m.pathname.match("/vacancy/")?e(Object(r.g)("".concat(m.pathname).concat(t.data.query))):(e(Object(o.a)(i.i,{name:v.name,action:a})),p&&e(Object(o.a)(i.b)),e(Object(c.n)({vacancies:[v]})))}),(function(){e(Object(o.a)(i.h,{name:v.name,action:a}))}))}}},1903:function(e,a,t){"use strict";var n=t(1449),r=t(1497),c=t(1459);function o(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}a.a=function(e,a){var t=e.params;return function(){var e,i=(e=regeneratorRuntime.mark((function e(o,i){var l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.managerId,o(Object(r.c)(l,!0)),e.prev=2,e.next=5,n.a.get("/shards/employer/vacancies_dashboard/drafts",{params:t});case 5:u=e.sent,e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(2),o(Object(r.c)(l,!1)),o(Object(c.a)(e.t0)),e.t0;case 13:u&&(a&&(u[l].drafts=i().vacanciesByManager[l].drafts.concat(u[l].drafts)),o(Object(r.l)(u,l)));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function i(e){o(c,n,r,i,l,"next",e)}function l(e){o(c,n,r,i,l,"throw",e)}i(void 0)}))});return function(e,a){return i.apply(this,arguments)}}()}},1904:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(641),l=t(163),u=t(1444),s=t(1446),p=function e(a){var t=a.trls,n=a.billUid,c=a.cartId,o=a.useGenitive;return r.a.createElement(s.a,{to:Object(l.getUrlWithHhtmFrom)("/employer/carts?cartId=".concat(c))},Object(i.default)(t[e.trls.billNumber[o?"genitive":"nominative"]],{"{}":n}))};p.displayName="components/AutoPublication/BillInfo/AutoPublicationBillInfo",p.propTypes={billUid:o.a.string.isRequired,cartId:o.a.number.isRequired,useGenitive:o.a.bool,trls:o.a.object},p.trls={billNumber:{nominative:"employer.vacancy.draft.autoPublication.billNumber",genitive:"employer.vacancy.draft.autoPublication.billNumber.genitive"}},a.a=Object(u.b)(p)},1930:function(e,a,t){"use strict";t.d(a,"b",(function(){return yt}));var n=t(1),r=t.n(n),c=t(0),o=t.n(c),i=t(1445),l=t(162),u=t(430),s=t(111),p=t(200),d=t(1467),m=t(1444),y=t(1461),v=t(7),f=t.n(v),b=t(1263),h=t(1262),g=t(1448);function O(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function E(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var j=o.a.arrayOf(o.a.shape({vacancyId:o.a.number,reason:o.a.string,reasonTrl:o.a.string})),P=function e(a){var t=a.unavailableGroup,c=a.separated,o=a.trls,i=Object(n.useCallback)((function(e){return Object.values(e.reduce((function(e,a){return function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?O(Object(t),!0).forEach((function(a){E(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,E({},a.reason,a))}),{}))}),[]);return t?r.a.createElement(n.Fragment,null,c&&r.a.createElement("div",{className:"vacancy-update-separator"}),r.a.createElement("div",{className:"vacancy-update-wrapper"},r.a.createElement("div",{className:"vacancy-update-title","data-qa":"vacancies-updatePopup-willNotBeUpdated"},r.a.createElement(y.a,{value:t.length,one:o[e.trls.notUpdateOne],some:o[e.trls.notUpdateSome],many:o[e.trls.notUpdateMany]})),r.a.createElement("div",{className:"vacancy-update-wrapper"},r.a.createElement("table",{className:"vacancy-update-publications","data-qa":"vacancy-update__will-not-be-updated"},r.a.createElement("tbody",null,i(t).map((function(e){var a=e.reason,t=e.reasonTrl,n=e.vacancyId;return r.a.createElement("tr",{key:n,className:"vacancy-update-publication vacancy-update-publication_warning","data-qa":"vacancies-updatePopup__item vacancies-updatePopup__item_".concat(a)},r.a.createElement("td",{className:"vacancy-update-publication__type","data-qa":"vacancies-updatePopup__type vacancies-updatePopup__type_".concat(a)},t))}))))))):null};P.displayName="components/Views/UnavailableProlongation/UnavailableProlongation",P.propTypes={unavailableGroup:j,separated:o.a.bool,trls:o.a.object},P.trls={notUpdateOne:"employer.myVacancies.willNotBeUpdated.title.one",notUpdateSome:"employer.myVacancies.willNotBeUpdated.title.many",notUpdateMany:"employer.myVacancies.willNotBeUpdated.title.some"};var T=Object(m.b)(P),w=function e(a){var t=a.vacancyServiceCode,c=a.count,o=a.regionsTrls,i=a.unlimited,l=a.serviceName,u=a.trls;return r.a.createElement("tr",{className:"vacancy-update-publication__type","data-qa":"vacancies-updatePopup__type vacancies-updatePopup__type_".concat(t)},r.a.createElement("td",{className:"vacancy-update-publication__type","data-qa":"vacancies-updatePopup__type vacancies-updatePopup__type_".concat(t)},l,o.length>0&&r.a.createElement(n.Fragment,null,"".concat(d.e).concat(u[e.trls.fromPacket]),r.a.createElement("br",null),u[e.trls.followingRegions],":",d.e,o.join(", "))),r.a.createElement("td",{className:"vacancy-update-publication__count","data-qa":"vacancies-updatePopup__count vacancies-updatePopup__count_".concat(t)},i?u[e.trls.unlimited]:c))};w.displayName="components/Views/AvailableProlongation/AvailableProlongation",w.propTypes={vacancyServiceCode:o.a.string,count:o.a.number,regionsTrls:o.a.array,unlimited:o.a.bool,serviceName:o.a.string,trls:o.a.object},w.trls={fromPacket:"employer.myVacancies.fromPackageWithResumeAccess",followingRegions:"employer.myVacancies.inFollowingRegions",unlimited:"employer.myVacancies.unlimited"};var S=Object(m.b)(w);function A(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var N="vacancies-updatePopup__",I=o.a.arrayOf(o.a.shape({vacancyServiceCode:o.a.string,count:o.a.number,regionsTrls:o.a.arrayOf(o.a.string),unlimited:o.a.bool,serviceName:o.a.string})),C=o.a.arrayOf(o.a.shape({serviceName:o.a.string,vacancyServiceCode:o.a.string,count:o.a.number})),M=o.a.arrayOf(o.a.shape({services:o.a.arrayOf(o.a.shape({serviceTrl:o.a.string,service:o.a.string}))})),_=o.a.shape({count:o.a.number}),R=function e(a){var t,c,o=a.anyVacancyCanBeProlonged,i=a.nonProlongableVacancies,l=a.hasPublicationsInsufficiency,u=a.spendableProlongations,s=a.canProlongateAsOtherType,d=a.unavailablePublications,m=a.vacancyProlongationWithServiceTypeChangeInfo,v=a.promoPublicationInfo,O=a.handleUpdate,E=a.isLoading,j=a.trls;if(o&&!l){var P=u.length>0||i.length>0;return r.a.createElement(n.Fragment,null,u.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"vacancy-update-title"},j[e.trls.chargeOff]),r.a.createElement("div",{className:"vacancy-update-wrapper"},r.a.createElement("table",{className:"vacancy-update-publications"},r.a.createElement("tbody",null,u&&u.map((function(e){var a=e.vacancyServiceCode,t=e.count,n=e.regionsTrls,c=e.unlimited,o=e.serviceName;return r.a.createElement(S,{key:"".concat(o).concat(n.join(",")),vacancyServiceCode:a,count:t,regionsTrls:n,unlimited:c,serviceName:o})})))))),(null==v?void 0:v.count)>0&&(t=P,c=v.count,r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("span",{className:"vacancy-update-title"},j[e.trls.freeOfCharge]),r.a.createElement("div",{className:f()({"vacancy-update-wrapper":t})},1===c?j[e.trls.promoOnlyOne]:r.a.createElement(y.a,{one:j[e.trls.promoOne],some:j[e.trls.promoSome],many:j[e.trls.promoMany],value:c,hasValue:!0})))),i.length>0&&r.a.createElement(T,{separated:!0,unavailableGroup:i}))}return s?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"vacancy-update-wrapper"},Object(g.a)(j[e.trls.notEnough],A({},"{0}",d[0].serviceName))),r.a.createElement("div",{className:"vacancy-update-wrapper"},Object(g.e)(j[e.trls.buyOrChange],A({},"{0}",r.a.createElement(b.a,{href:"/price/publications"},j[e.trls.buyVacancies])))),r.a.createElement("table",null,r.a.createElement("tbody",null,m[0].services.map((function(a){var t=a.serviceTrl,n=a.service;return r.a.createElement("tr",{key:n,"data-qa":"".concat(N,"item ").concat(N,"item_").concat(n)},r.a.createElement("td",{className:"vacancy-update-publication__type"},r.a.createElement("div",{"data-qa":"".concat(N,"type ").concat(N,"type_").concat(n)},t),r.a.createElement("div",{className:"vacancy-update-publication__button"},r.a.createElement(h.a,{"data-qa":"".concat(N,"update-button ").concat(N,"update-button_").concat(n),onClick:function(e){return O(e,n)}},j[e.trls.refresh],E&&r.a.createElement(p.a,null)))))}))))):i.length>0&&!l?r.a.createElement(T,{unavailableGroup:i}):r.a.createElement(n.Fragment,null,j[e.trls.neededForUpdate],r.a.createElement("div",{className:"vacancy-update-wrapper"},r.a.createElement("table",{className:"vacancy-update-publications","data-qa":"vacancy-update__will-not-be-updated"},r.a.createElement("tbody",null,d.map((function(e){var a=e.serviceName,t=e.vacancyServiceCode,n=e.count;return r.a.createElement("tr",{key:t,className:"vacancy-update-publication","data-qa":"".concat(N,"item vacancies-updatePopup__item_").concat(t)},r.a.createElement("td",{className:"vacancy-update-publication__type","data-qa":"".concat(N,"type ").concat(N,"type_").concat(t)},a),r.a.createElement("td",{className:"vacancy-update-publication__count","data-qa":"".concat(N,"count ").concat(N,"count_").concat(t)},n))}))))),r.a.createElement("div",{className:"vacancy-update-wrapper"},Object(g.e)(j[e.trls.buyProlongation],A({},"{0}",r.a.createElement(b.a,{href:"/price/publications"},j[e.trls.buyVacancies])))))};R.displayName="components/Views/ProlongateContent/ProlongateContent",R.propTypes={anyVacancyCanBeProlonged:o.a.bool,nonProlongableVacancies:j,hasPublicationsInsufficiency:o.a.bool,spendableProlongations:I,canProlongateAsOtherType:o.a.bool,unavailablePublications:C,vacancyProlongationWithServiceTypeChangeInfo:M,promoPublicationInfo:_,handleUpdate:o.a.func,isLoading:o.a.bool,trls:o.a.object},R.trls={buyVacancies:"employer.myVacancies.buyVacancies",buyOrChange:"employer.myVacancies.buyOrChangeMetallic",chargeOff:"employer.myVacancies.willBeChargedOff",freeOfCharge:"employer.myVacancies.freeOfCharge",refresh:"vacancyRefresh.link",notEnough:"employer.myVacancies.notEnoughPublications",buyProlongation:"employer.myVacancies.buyForProlongation",neededForUpdate:"employer.myVacancies.neededForUpdate",promoOne:"employer.myVacancies.promoVacancies.updatingOne",promoOnlyOne:"employer.myVacancies.promoVacancies.updatingOnlyOne",promoSome:"employer.myVacancies.promoVacancies.updatingSome",promoMany:"employer.myVacancies.promoVacancies.updatingMany",promoDescription:"employer.myVacancies.promoVacancy.willBeUpdated.description"};var k=Object(m.b)(R),U=t(1449),D=t(1501),V=t(1497),x=t(1460),q=t(1514),L=t(1459);function F(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function H(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?H(Object(t),!0).forEach((function(a){G(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function G(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function W(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function Y(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=function e(a){var t=a.handleCloseModal,c=a.updateInfo,o=c.totalProlongations,i=void 0===o?0:o,m=c.spentPublications,v=c.notNeedProlongation,f=c.cantBeProlongated,b=c.unavailablePublications,h=void 0===b?[]:b,g=c.canProlongateAsOtherType,O=c.vacancyProlongationWithServiceTypeChangeInfo,E=c.promoPublicationInfo,j=a.isGroup,P=a.vacanciesToProlongate,T=a.vacanciesIds,w=a.updateVacancy,S=a.isVisible,A=a.trls,N=a.location,I=(null==h?void 0:h.length)>0,C=[].concat(v||[]).concat(f||[]),M=(null==m?void 0:m.length)>0||(null==E?void 0:E.count)>0,_=Object(n.useMemo)((function(){return 1===(null==T?void 0:T.length)?A[e.trls.failOne]:A[e.trls.failMany]}),[A,T]),R=Y(Object(n.useState)(!1),2),U=R[0],D=R[1],V=Object(n.useMemo)((function(){return M&&!I?"vacancies-updatePopup-willBeUpdated":O?"vacancies-updatePopup-prolongationWithMetallicChange":"vacancies-updatePopup-unableToProlongate"}),[M,I,O]),x=Object(n.useCallback)(function(){var e,a=(e=regeneratorRuntime.mark((function e(a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j?P:T,!U&&D&&r){e.next=3;break}return e.abrupt("return");case 3:return D(!0),e.prev=4,e.next=7,w({params:B({id:r},n?{targetMetallic:n}:{}),location:N});case 7:t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),D(!1);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){W(c,n,r,o,i,"next",e)}function i(e){W(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e,t){return a.apply(this,arguments)}}(),[P,T,j,t,U,D,w,N]);return r.a.createElement(l.f,{visible:S,onClose:t},r.a.createElement(l.d,{outlined:!0},r.a.createElement(l.e,{"data-qa":V},M&&!I?r.a.createElement(n.Fragment,null,A[e.trls.update],d.e,r.a.createElement(y.a,{value:i,one:A[e.trls.updateSome],some:A[e.trls.updateMany],many:A[e.trls.updateMany]})):_)),r.a.createElement("div",{className:"vacancy-update"},r.a.createElement(k,{anyVacancyCanBeProlonged:M,nonProlongableVacancies:C,hasPublicationsInsufficiency:I,spendableProlongations:m,promoPublicationInfo:E,canProlongateAsOtherType:g,unavailablePublications:h,vacancyProlongationWithServiceTypeChangeInfo:O,handleUpdate:x,isLoading:U}),(M||I)&&r.a.createElement(u.c,null,(m.length>0||I)&&"".concat(A[e.trls.info],". "),M&&A[e.trls.autoProlongationOnUpdate]," ",M&&A[e.trls.autoUpdateOnUpdate]),r.a.createElement(l.c,null,r.a.createElement(s.b,{"data-qa":"vacancies-updatePopup-close",onClick:t},A[e.trls.cancel]),M&&!I&&r.a.createElement(u.j,null,r.a.createElement(s.b,{kind:s.b.kinds.primary,"data-qa":"vacancies-updatePopup-update",onClick:x,loading:U&&r.a.createElement(p.a,null)},A[e.trls.submit])))))};z.displayName="components/VacancyModals/ProlongateModal/ProlongateModal",z.propTypes={isVisible:o.a.bool,isGroup:o.a.bool,vacanciesToProlongate:o.a.arrayOf(o.a.number),vacanciesIds:o.a.arrayOf(o.a.number),updateVacancy:o.a.func,handleCloseModal:o.a.func,handleUpdate:o.a.func,updateInfo:o.a.shape({totalProlongations:o.a.number,spentPublications:I,notNeedProlongation:j,cantBeProlongated:j,unavailablePublications:C,canProlongateAsOtherType:o.a.bool,vacancyProlongationWithServiceTypeChangeInfo:M,promoPublicationInfo:_}),trls:o.a.object,location:o.a.object},z.trls={failMany:"employer.myVacancies.willNotBeUpdated.titleMany",failOne:"employer.myVacancies.willNotBeUpdated.titleOne",update:"employer.myVacancies.update",updateSome:"vacancy.some",updateMany:"vacancy.many",info:"employer.vacancy.extend.warning",cancel:"Cancel",submit:"vacancyRefresh.link",autoProlongationOnUpdate:"employer.vacancies.autoProlongation.disableOnUpdate",autoUpdateOnUpdate:"vacancy.autoUpdate.notDisable"};var K=Object(i.connect)((function(e){return{updateInfo:e.updateInfo,location:e.router.location}}),{updateVacancy:function(e){var a=e.params,t=e.location;return function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.postFormData("/employer/vacancy/update",a);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),n(Object(L.a)(e.t0)),e.abrupt("return");case 10:if(!t.pathname.match("/vacancy/")){e.next=13;break}return n(Object(D.g)("".concat(t.pathname).concat(r.data.query))),e.abrupt("return");case 13:return e.prev=13,e.next=16,U.a.get("/shards/employer/vacancies/get_full_vacancy",{params:{vacancyId:a.id,isMultiple:!0}});case 16:c=e.sent,e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(13),n(Object(L.a)(e.t1)),e.abrupt("return");case 23:n(Object(V.n)(c)),n(Object(x.a)(q.l,{count:c.vacancies.length,name:c.vacancies[0].name}));case 25:case"end":return e.stop()}}),e,null,[[0,6],[13,19]])})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){F(c,n,r,o,i,"next",e)}function i(e){F(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}()}})(Object(m.b)(z)),Q=t(432),J=t(1260),X=t(461),Z=t(1541);function $(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}var ee=t(1454);function ae(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function te(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ae(Object(t),!0).forEach((function(a){ne(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ne(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function re(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ce(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}var oe=Object(ee.e)("employerManagers"),ie=function(){return function(){var e,a=(e=regeneratorRuntime.mark((function e(a,t){var n,r,c,o,i,l,u,s,p,d,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("/shards/employer/vacancies/employerManagers",{params:{}});case 2:o=e.sent,i=t(),l=i.employerManagerId,u=i.employerManagers,s=i.vacanciesByManager,p=o.employerManagers.some((function(e){return e.employerManagerId===l})),d=null===(n=s[l])||void 0===n?void 0:n.draftsTotalCount,m=null===(r=s[l])||void 0===r||null===(c=r.autoPublications)||void 0===c?void 0:c.list.length,y=o.employerManagers,p||!d&&!m||(y=[te({},u[0],{vacanciesCount:0})].concat(re(y))),a(oe(y));case 10:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){ce(c,n,r,o,i,"next",e)}function i(e){ce(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e,t){return a.apply(this,arguments)}}()};function le(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}var ue=Object(ee.e)("managerCluster"),se=function(){return function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/shards/employer/vacancies_dashboard/clusters");case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:a(ue(t));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){le(c,n,r,o,i,"next",e)}function i(e){le(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}()},pe=t(1462);function de(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function me(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ye=[{name:"foundHere",qa:"vacancies-radio-reason_foundhere"},{name:"foundNotHere",qa:"vacancies-radio-reason_foundnothere"},{name:"otherReason",qa:"vacancies-radio-reason_otherreason"}],ve=function e(a){var t=a.vacanciesIds,c=void 0===t?[]:t,o=a.isVisible,i=a.checkedVacancies,p=a.vacanciesByManager,m=a.archiveVacancy,v=a.fetchEmployerManagers,f=a.fetchClustersInfo,b=a.dispatchCheckVacancy,h=a.handleCloseModal,O=a.trls,E=a.location,j=a.userType,P=1===c.length&&j!==pe.a.BACKOFFICE,T=me(Object(n.useState)(null),2),w=T[0],S=T[1],A=me(Object(n.useState)(!1),2),N=A[0],I=A[1],C=me(Object(n.useState)(null),2),M=C[0],_=C[1],R=Object(n.useCallback)((function(){if(!P||w){var a=null;if(P){var t=me(Object.entries(i)[0],2),n=t[0],r=me(t[1],1)[0];a=p[n].vacancies.list.find((function(e){return e.vacancyId===r})).name}m({params:{reason:w,id:c},additional:{checkedVacancies:i,name:a,count:c.length},location:E}).then((function(){b&&b({type:Z.d}),h(),v(),f()}),(function(){I(!0)}))}else _(O[e.trls.emptyReasonError])}),[P,w,m,c,i,E,O,p,b,h,v,f]),k=r.a.createElement(y.a,{value:c.length,format:function(e){return Object(g.a)(e,{"%s":c.length})},one:O[e.trls.text.one],some:O[e.trls.text.some],many:O[e.trls.text.many],hasValue:!1});return P&&(k=ye.map((function(a){var t=a.name,n=a.qa,c=O[e.trls[t]];return r.a.createElement(u.d,{key:t},r.a.createElement(Q.a,{wrapperProps:{"data-qa":n},value:t,checked:t===w,invalid:!!M,onChange:function(e){var a=e.target;S(a.value),_(null)}},"foundHere"===t?"".concat(c).concat(d.e).concat(window.location.hostname):c))}))),r.a.createElement(l.f,{visible:o,onClose:h},r.a.createElement("div",{className:"vacancy-action-modal"},r.a.createElement(l.d,null,r.a.createElement(l.e,null,r.a.createElement(y.a,{value:c.length,format:function(e){return Object(g.a)(e,{"%s":c.length})},one:O[P?e.trls.reason:e.trls.title.one],some:O[e.trls.title.some],many:O[e.trls.title.many],hasValue:!1}))),k,r.a.createElement(J.a,{bottom:!0},M&&r.a.createElement(X.a,{show:!!M},M)),r.a.createElement(J.a,{bottom:!0},O[e.trls.warning]),r.a.createElement(l.b,{visible:N},O[e.trls.error]),r.a.createElement(l.c,null,r.a.createElement(s.b,{"data-qa":"vacancies-archivePopup-cancel",onClick:h},O[e.trls.cancel]),r.a.createElement(u.j,null,r.a.createElement(s.b,{kind:s.b.kinds.primary,onClick:R,"data-qa":"vacancies-archivePopup-archive"},O[e.trls.toArchive])))))};ve.displayName="components/VacancyModals/ArchiveModal/ArchiveModal",ve.trls={archive:"employer.myVacancyes.archivate",reason:"employer.myVacancies.archive.title.reason",foundHere:"employer.myVacancies.archive.reason.foundHere",foundNotHere:"employer.myVacancies.archive.reason.foundNotHere",otherReason:"employer.myVacancies.archive.reason.otherReason",warning:"employer.myVacancies.archive.warning",cancel:"employer.myVacancyes.move.cancel",toArchive:"employer.myVacancies.archive.toArchive",error:"employer.myVacancies.archive.error",emptyReasonError:"employer.myVacancies.archive.emptyReasonError",title:{one:"employer.myVacancies.archive.title.one",some:"employer.myVacancies.archive.title.some",many:"employer.myVacancies.archive.title.many"},text:{one:"employer.myVacancies.archive.text.one",some:"employer.myVacancies.archive.text.some",many:"employer.myVacancies.archive.text.many"}},ve.propTypes={isVisible:o.a.bool,trls:o.a.object,vacanciesByManager:o.a.shape(de({},o.a.number,o.a.arrayOf(o.a.number))),checkedVacancies:o.a.shape(de({},o.a.number,o.a.arrayOf(o.a.number))),vacanciesIds:o.a.arrayOf(o.a.number),dispatchCheckVacancy:o.a.func,archiveVacancy:o.a.func,fetchClustersInfo:o.a.func,fetchEmployerManagers:o.a.func,handleCloseModal:o.a.func,visible:o.a.bool,location:o.a.object,userType:o.a.string};var fe=Object(i.connect)((function(e){return{vacanciesByManager:e.vacanciesByManager,location:e.router.location,userType:e.userType}}),{archiveVacancy:function(e){var a=e.additional,t=e.params,n=e.location;return function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var c,o,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.checkedVacancies,o=a.name,i=a.count,e.next=3,U.a.postFormData("/employer/vacancy/archive",t);case 3:if(l=e.sent,!n.pathname.match("/vacancy/")){e.next=6;break}return e.abrupt("return",r(Object(D.g)("".concat(n.pathname).concat(l.data.query))));case 6:return r(Object(x.a)(q.a,{name:o,count:i})),e.abrupt("return",r(Object(V.b)(c)));case 8:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){$(c,n,r,o,i,"next",e)}function i(e){$(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}()},fetchEmployerManagers:ie,fetchClustersInfo:se})(Object(m.b)(ve)),be=t(475),he=t(595),ge=t(45);function Oe(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function Ee(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var je,Pe,Te,we=function e(a){var t=a.vacanciesIds,c=a.isVisible,o=a.moveVacancy,i=a.fetchEmployerManagers,u=a.fetchClustersInfo,s=a.dispatchCheckVacancy,p=a.handleCloseModal,m=a.checkedVacancies,v=a.managersTree,f=a.trls,b=Ee(Object(n.useState)(!1),2),h=b[0],g=b[1],O=Ee(Object(n.useState)(""),2),E=O[0],j=O[1],P=(null==t?void 0:t.length)||1,T=Object(n.useCallback)((function(){o({params:{id:t,targetManagerId:E},checkedVacancies:m}).then((function(){g(!1),p(),s({type:Z.d}),i(),u()}),(function(){g(!0)}))}),[o,t,E,m,p,s,i,u]),w=Object(n.useMemo)((function(){return{submit:1===P?f[e.trls.transferSubmitOne]:f[e.trls.transferSubmit],cancel:f[e.trls.cancel]}}),[f,P]);return r.a.createElement(be.a,{visible:c,selected:[E],trl:w,onClose:p,error:h?f[e.trls.error]:"",onSubmit:T,disabledSubmit:!E,hideOnSubmitClick:!1,title:r.a.createElement(l.e,null,f[e.trls.titlePrefix],d.e,r.a.createElement(y.a,{value:P,one:f[e.trls.transferSome],some:f[e.trls.transferMany],many:f[e.trls.transferMany]}))},r.a.createElement(he.a,{singleChoice:!0,onChange:function(e){return j(e)},collection:v}))};we.displayName="components/VacancyModals/TransferModal/TransferModal",we.propTypes={isVisible:o.a.bool,vacanciesIds:o.a.arrayOf(o.a.number),dispatchCheckVacancy:o.a.func,handleCloseModal:o.a.func,trls:o.a.object,moveVacancy:o.a.func,fetchEmployerManagers:o.a.func,fetchClustersInfo:o.a.func,managersTree:o.a.object,checkedVacancies:o.a.shape((je={},Pe=o.a.number,Te=o.a.arrayOf(o.a.number),Pe in je?Object.defineProperty(je,Pe,{value:Te,enumerable:!0,configurable:!0,writable:!0}):je[Pe]=Te,je))},we.trls={titlePrefix:"employer.myVacancyes.move.titlePrefix",error:"employer.myVacancyes.move.error",cancel:"employer.myVacancyes.move.cancel",transferSubmit:"employer.myVacancyes.move",transferSubmitOne:"employer.myVacancyes.moveOne",transferSome:"vacancy.some",transferMany:"vacancy.many"};var Se=Object(i.connect)((function(e){var a=e.managersList;return{managersTree:Object(ge.d)(a.map((function(e){var a=e.id,t=e.name;return{id:"".concat(a),text:t}})))}}),{moveVacancy:function(e){var a=e.checkedVacancies,t=e.params;return function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.postFormData("/employer/movevacancies",t);case 2:return e.abrupt("return",n(Object(V.i)(a,t.targetManagerId)));case 3:case"end":return e.stop()}}),e)})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){Oe(c,n,r,o,i,"next",e)}function i(e){Oe(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}()},fetchEmployerManagers:ie,fetchClustersInfo:se})(Object(m.b)(we)),Ae=t(27),Ne=t(239),Ie=function e(a){var t=a.isPurchaseRequired,n=a.isPromoVacancy,c=a.expireTime,o=a.publicationType,i=a.trls;return r.a.createElement("div",{className:f()("vacancy-auto-prolongation-info",{"vacancy-auto-prolongation-info_purchase-required":t}),"data-qa":"vacancy-auto-prolongation-info"},Object(g.a)(i[e.trls.expireText],{"{}":Object(Ne.default)(c,"ddÂ MMMM y")}),n&&i[e.trls.promoText],!n&&Object(g.a)(i[e.trls.typeText],{"{}":i[e.trls["publicationType.".concat(o)]]}))};Ie.displayName="components/Views/AutoProlongationInfo/AutoProlongationInfo",Ie.propTypes={isPurchaseRequired:o.a.bool,isPromoVacancy:o.a.bool,expireTime:o.a.number,publicationType:o.a.string,trls:o.a.object},Ie.trls={expireText:"employer.vacancies.autoProlongation.modal.text.enable.1",typeText:"employer.vacancies.autoProlongation.modal.text.enable.2",promoText:"employer.vacancies.autoProlongation.modal.text.enable.promo","publicationType.PREMIUM":"employer.VacancyCreate.PublicationType.PREMIUM","publicationType.STANDARD_PLUS":"employer.VacancyCreate.PublicationType.STANDARD_PLUS","publicationType.STANDARD":"employer.VacancyCreate.PublicationType.STANDARD","publicationType.STANDARD_ANONYMOUS":"employer.VacancyCreate.PublicationType.STANDARD_ANONYMOUS","publicationType.STANDARD_ADVERTISING":"employer.VacancyCreate.PublicationType.STANDARD_ADVERTISING","publicationType.FREE":"employer.VacancyCreate.PublicationType.FREE"};var Ce=Object(m.b)(Ie),Me=t(1869),_e=t(1512),Re=function e(a){var t=a.showError,n=a.onSelect,c=a.publicationType,o=a.totalCost,l=a.currency,s=a.agreements,p=a.trls,d=Object(i.useSelector)((function(e){return e.currencies.list.find((function(e){return e.code===l})).name}));return r.a.createElement("div",{className:"vacancy-auto-prolongation-purchase","data-qa":"vacancy-auto-prolongation-purchase"},r.a.createElement(u.a,{show:!0},Object(g.a)(p[e.trls.publicationError],{"{}":p[e.trls["publicationType.".concat(c)]]})),r.a.createElement("div",null,p[e.trls.accountDescription]),r.a.createElement("div",{className:"vacancy-auto-prolongation-purchase__cost"},r.a.createElement(u.f,null,p[e.trls.publicationOne]),r.a.createElement("span",{className:"vacancy-promo-cost vacancy-promo-cost_labeled"},"".concat(Object(_e.c)(o)," ").concat(d))),r.a.createElement(u.f,null,p[e.trls.account]),r.a.createElement(u.d,null,r.a.createElement(Me.a,{accounts:s,minimumValue:o,onChange:n,invalid:t})),r.a.createElement(u.a,{show:t},p[e.trls.accountError]))};Re.displayName="components/Views/AutoProlongationPurchase/AutoProlongationPurchase",Re.propTypes={showError:o.a.bool,onSelect:o.a.func.isRequired,publicationType:o.a.string,totalCost:o.a.number,currency:o.a.string,agreements:o.a.array,trls:o.a.object},Re.trls={publicationOne:"employer.vacancies.autoprolongation.popup.publication.one",publicationError:"employer.vacancies.autoprolongation.popup.publication.error",account:"VacancyCreate.PublicationType.Promo.BuyAndPublishPromo.account",accountDescription:"employer.vacancies.autoprolongation.popup.account.description",accountError:"employer.vacancies.autoprolongation.popup.account.error","publicationType.PREMIUM":"employer.VacancyCreate.PublicationType.PREMIUM","publicationType.STANDARD_PLUS":"employer.VacancyCreate.PublicationType.STANDARD_PLUS","publicationType.STANDARD":"employer.VacancyCreate.PublicationType.STANDARD","publicationType.STANDARD_ANONYMOUS":"employer.VacancyCreate.PublicationType.STANDARD_ANONYMOUS","publicationType.STANDARD_ADVERTISING":"employer.VacancyCreate.PublicationType.STANDARD_ADVERTISING","publicationType.FREE":"employer.VacancyCreate.PublicationType.FREE"};var ke=Object(m.b)(Re),Ue=t(1902),De=t(1469);function Ve(){return(Ve=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function xe(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function qe(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Le=function e(a){var t=a.handleCloseModal,c=a.vacancyId,o=a.managerId,u=a.isPromoVacancy,d=a.expireTime,m=a.isVisible,y=a.requirements,v=a.trls,f=Object(i.useDispatch)(),b=qe(Object(n.useState)(!1),2),h=b[0],O=b[1],E=qe(Object(n.useState)(null),2),j=E[0],P=E[1],T=qe(Object(n.useState)(!1),2),w=T[0],S=T[1],A=Object(i.useSelector)((function(e){return e.router.location})),N=function(){var e,a=(e=regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(!(a=!!(null==y?void 0:y.purchaseRequired))||j){e.next=6;break}return O(!0),e.abrupt("return");case 6:return S(!0),e.prev=7,e.next=10,f(Object(Ue.a)({action:"enable",vacancyId:c,managerId:o,purchaseRequired:a,agreementId:j,location:A}));case 10:a&&Object(Ae.SendHHAnalyticsEvent)("auto-prolongation-publication-purchase",{publicationType:y.publicationType});case 11:return e.prev=11,t(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[7,,11,14]])})),function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){xe(c,n,r,o,i,"next",e)}function i(e){xe(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}(),I=Object(n.useCallback)((function(e){O(!e),P(e)}),[]),C=Object(n.useCallback)((function(){return(null==y?void 0:y.purchaseRequired)?Object(g.e)(v[e.trls.buyAndEnable],{"{}":r.a.createElement(De.a,{currency:y.purchaseInfo.currency},y.purchaseInfo.totalCost)}):v[e.trls.enable]}),[y,v]);return r.a.createElement(l.f,{visible:m,onClose:t},r.a.createElement(l.d,{outlined:!0},r.a.createElement(l.e,null,v[e.trls.modalTitle])),r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-content","data-qa":"vacancy-auto-prolongation-info"},(null==y?void 0:y.purchaseRequired)&&r.a.createElement(ke,Ve({publicationType:y.publicationType,showError:h,onSelect:I},y.purchaseInfo)),r.a.createElement(Ce,{isPurchaseRequired:null==y?void 0:y.purchaseRequired,isPromoVacancy:u,expireTime:d,publicationType:null==y?void 0:y.publicationType})),r.a.createElement(l.c,null,r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid"},r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid__item"},r.a.createElement(s.b,{stretched:!0,onClick:t},v[e.trls.cancel])),r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid__item"},r.a.createElement(s.b,{stretched:!0,loading:w&&r.a.createElement(p.a,null),onClick:N,kind:s.b.kinds.primary,"data-qa":"vacancies-autoProlongationPopup-enable"},C())))))};Le.displayName="components/VacancyModals/AutoProlongationModal/AutoProlongationModal",Le.propTypes={isVisible:o.a.bool,handleCloseModal:o.a.func.isRequired,vacancyUpgrades:o.a.object,vacancyId:o.a.number,managerId:o.a.number,isPromoVacancy:o.a.bool,expireTime:o.a.number,requirements:o.a.shape({publicationType:o.a.string,purchaseRequired:o.a.bool,purchaseInfo:o.a.object}),trls:o.a.object},Le.trls={enable:"employer.vacancies.autoProlongation.plan",buyAndEnable:"employer.vacancies.autoProlongation.buyAndEnable",cancel:"employer.myVacancyes.move.cancel",modalTitle:"employer.vacancies.autoProlongation.modal.title.enable"};var Fe=Object(m.b)(Le),He=t(1941),Be=t(1414),Ge=t(345),We=t(1441);function Ye(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function ze(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){Ye(c,n,r,o,i,"next",e)}function i(e){Ye(c,n,r,o,i,"throw",e)}o(void 0)}))}}var Ke=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=ze(regeneratorRuntime.mark((function n(r){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U.a.post("/shards/employer/vacancies/auto_update/schedule",null,{params:e});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),r(Object(L.a)(n.t0));case 8:return n.prev=8,n.next=11,U.a.get("/shards/employer/vacancies/get_full_vacancy",{params:{vacancyId:e.vacancyId,isMultiple:!0}});case 11:c=n.sent,n.next=18;break;case 14:return n.prev=14,n.t1=n.catch(8),r(Object(L.a)(n.t1)),n.abrupt("return");case 18:if(r(Object(V.n)(c)),!t){n.next=21;break}return n.abrupt("return");case 21:r(Object(x.a)(a?q.f:q.e));case 22:case"end":return n.stop()}}),n,null,[[0,5],[8,14]])})));return function(e){return n.apply(this,arguments)}}()},Qe=t(1692),Je=t(1446),Xe=function e(a){var t=a.updatesCount,n=a.publicationType,c=a.trls;return r.a.createElement("div",{className:"vacancy-auto-update-summary"},Object(g.e)(c[e.trls.summary],{"{0}":r.a.createElement(y.a,{value:t,one:c[e.trls.publicationsOne],some:c[e.trls.publicationsSome],many:c[e.trls.publicationsMany]}),"{1}":c[e.trls[n]],"{2}":r.a.createElement(Je.a,{to:"/conditions"},c[e.trls.conditions])}))};Xe.displayName="components/AutoUpdateModal/Summary/Summary",Xe.trls={summary:"vacancy.autoUpdate.summary",conditions:"terms.and.conditions.dative",publicationsOne:"vacancy.autoUpdate.summary.publications.one",publicationsSome:"vacancy.autoUpdate.summary.publications.some",publicationsMany:"vacancy.autoUpdate.summary.publications.many",FREE:"publicationType.FREE",STANDARD:"publicationType.STANDARD",STANDARD_PROMO:"publicationType.STANDARD_PROMO",STANDARD_PLUS:"publicationType.STANDARD_PLUS",STANDARD_ANONYMOUS:"publicationType.STANDARD_ANONYMOUS",STANDARD_ADVERTISING:"publicationType.STANDARD_ADVERTISING",PREMIUM:"publicationType.PREMIUM",PREMIUM_ANONYMOUS:"publicationType.PREMIUM_ANONYMOUS",PREMIUM_ADVERTISING:"publicationType.PREMIUM_ADVERTISING"},Xe.propTypes={updatesCount:o.a.number,publicationType:o.a.string,trls:o.a.object};var Ze=Object(n.memo)(Object(m.b)(Xe)),$e=t(1368),ea=t(641),aa=function e(a){var t=a.publicationType,n=a.prolongationFailureReason,c=a.trls;return null!==n&&"OTHER"!==n&&r.a.createElement($e.a,null,Object(ea.default)(c[e.trls[n]],{"{0}":c[e.trls[t]]}))};aa.displayName="components/AutoUpdateModal/Warnings/Warnings",aa.trls={NOT_ENOUGH_PERMISSIONS:"vacancy.autoUpdate.warning.NOT_ENOUGH_PERMISSIONS",NOT_ENOUGH_PUBLICATIONS:"vacancy.autoUpdate.warning.NOT_ENOUGH_PUBLICATIONS",NOT_ENOUGH_QUOTAS:"vacancy.autoUpdate.warning.NOT_ENOUGH_QUOTAS",FREE:"publicationType.FREE",STANDARD:"publicationType.STANDARD",STANDARD_PROMO:"publicationType.STANDARD_PROMO",STANDARD_PLUS:"publicationType.STANDARD_PLUS",STANDARD_ANONYMOUS:"publicationType.STANDARD_ANONYMOUS",STANDARD_ADVERTISING:"publicationType.STANDARD_ADVERTISING",PREMIUM:"publicationType.PREMIUM",PREMIUM_ANONYMOUS:"publicationType.PREMIUM_ANONYMOUS",PREMIUM_ADVERTISING:"publicationType.PREMIUM_ADVERTISING"},aa.propTypes={publicationType:o.a.string,prolongationFailureReason:o.a.string,trls:o.a.object};var ta=Object(n.memo)(Object(m.b)(aa)),na=t(143),ra=t(1427),ca=t(8),oa=t(1267),ia=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"vacancy-auto-update-selectors__icon"},r.a.createElement(ca.c,{view:ca.c.views.calendar,initial:ca.c.kinds.action})),Object(Ne.default)(e,"dÂ MMMM, EEEE"))},la=function(e){var a=e.start,t=e.end,n=e.date,c=e.setDate,o=e.isDisabled,i=e.title;return r.a.createElement(oa.d,{value:Object(na.a)(n).getTime(),onChange:function(e){return c(new Date(e))},layer:oa.c.aboveOverlayContent,placeholderTemplate:ia,title:i},Object(ra.a)({start:a,end:t}).map((function(e){return r.a.createElement(oa.a,{key:e.getTime(),value:e.getTime(),disabled:o(e)},Object(Ne.default)(e,"dÂ MMMM, EEEE"))})))};la.displayName="components/AutoUpdateModal/DateSelect/DateSelect",la.propTypes={start:o.a.object.isRequired,end:o.a.object.isRequired,date:o.a.object,setDate:o.a.func.isRequired,isDisabled:o.a.func.isRequired,title:o.a.string};var ua=Object(n.memo)(la);var sa,pa=function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(sa=Array(24).keys())||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(sa)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),da=function(e){return"".concat(String(e).padStart(2,"0"),":00")},ma=function(e){return"".concat(da(e),"â").concat(da(e+1))},ya=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"vacancy-auto-update-selectors__icon"},r.a.createElement(ca.c,{view:ca.c.views.clock,initial:ca.c.kinds.action})),ma(e))},va=function(e){var a=e.time,t=e.setTime,c=e.isDisabled,o=e.title;return Object(n.useEffect)((function(){c(pa.find((function(e){return a===e})))&&t(pa.find((function(e){return!c(e)})))}),[c,t,a]),r.a.createElement(oa.d,{value:a,onChange:t,layer:oa.c.aboveOverlayContent,placeholderTemplate:ya,title:o},pa.map((function(e){return r.a.createElement(oa.a,{key:e,value:e,disabled:c(e)},ma(e))})))};va.displayName="components/AutoUpdateModal/TimeSelect/TimeSelect",va.propTypes={time:o.a.number,setTime:o.a.func.isRequired,isDisabled:o.a.func.isRequired,title:o.a.string};var fa=Object(n.memo)(va),ba=t(1463);function ha(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ga=function e(a){var t=a.ids,c=a.title,o=a.trls,l=a.covered,u=void 0!==l&&l,s=ha(Object(ba.a)(u),3),p=s[0],m=s[1],v=s[2],f=ha(Object(n.useState)(10),2),b=f[0],g=f[1],O=Object(i.useSelector)((function(e){return e.vacanciesByManager})),E=Object(n.useMemo)((function(){return Object.values(O).reduce((function(e,a){var t=a.vacancies.list,n=void 0===t?[]:t;return e.concat(n)}),[])}),[O]),j=Object(n.useMemo)((function(){return E.filter((function(e){var a=e.vacancyId;return t.includes(a)}))}),[E,t]).slice(0,b),P=t.length-b,T=Object(n.useCallback)((function(){return g(b+10)}),[b]);Object(n.useEffect)((function(){v(u),g(10)}),[v,u,t]);var w=r.a.createElement(r.a.Fragment,null,c,d.e,r.a.createElement(y.a,{value:t.length,one:o[e.trls.vacancySome],some:o[e.trls.vacancyMany],many:o[e.trls.vacancyMany]}));return p?r.a.createElement(h.a,{onClick:m},w):r.a.createElement("div",{className:"vacancy-auto-update-summary"},r.a.createElement("div",{className:"auto-update-inner-title auto-update-inner-title_padded"},w),j.map((function(e,a){var t=e.area,n=e.name,c=e.vacancyId;return r.a.createElement(Je.a,{key:c,target:"_blank",to:"/vacancy/".concat(c)},n,d.e,"â ",t.name,a<j.length-1&&", ")})),t.length>b&&r.a.createElement("span",{className:"vacancy-auto-update-addition"},r.a.createElement(h.a,{onClick:T},o[e.trls.more],d.e,P>10?10:P)))};ga.displayName="components/AutoUpdateModal/VacanciesWithLocation/VacanciesWithLocation",ga.trls={vacancyOne:"vacancy.one",vacancySome:"vacancy.some",vacancyMany:"vacancy.many",more:"vacancy.autoUpdate.group.more"},ga.propTypes={covered:o.a.bool,title:o.a.node,trls:o.a.object,ids:o.a.arrayOf(o.a.number)};var Oa=Object(m.b)(ga),Ea=t(1491);function ja(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pa(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function Ta(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){Pa(c,n,r,o,i,"next",e)}function i(e){Pa(c,n,r,o,i,"throw",e)}o(void 0)}))}}function wa(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Sa=function e(a){var t=a.vacancyId,c=a.groupId,o=a.autoRenewal,d=a.renewalSteps,m=void 0===d?[]:d,y=a.handleCloseModal,v=a.dispatchModal,f=a.failedToUpdate,b=a.isEdit,h=a.isVisible,O=a.trls,E=Object(n.useRef)([]),j=Object(i.useDispatch)(),P=wa(Object(n.useState)(0),2),T=P[0],w=P[1],S=m[T],A=m[T]||o,N=A.ids,I=A.scheduleTypesWithUpdatesCount,C=A.publicationType,M=A.closestPossibleProlongation,_=A.maxLastUpdateDateTime,R=A.prolongationFailureReason,k=void 0===R?null:R,D=Object(n.useMemo)((function(){return Object.keys(I)}),[I]),V=Object(n.useMemo)((function(){return new Date(M)}),[M]),x=Object(n.useMemo)((function(){return new Date(_)}),[_]),q=Object(n.useMemo)((function(){return-(new Date).getTimezoneOffset()/60}),[]),L=Object(i.useSelector)((function(e){return e.employerId})),F=Object(i.useSelector)((function(e){return e.employerManagers})),H=Object(n.useMemo)((function(){return F.map((function(e){return e.employerManagerId}))}),[F]),B=wa(Object(n.useState)(V),2),G=B[0],W=B[1],Y=wa(Object(n.useState)(x),2),z=Y[0],K=Y[1],X=wa(Object(n.useState)(D[0]),2),Z=X[0],$=X[1],ee=Object(n.useCallback)((function(e){var a=e.target.value;return $(a)}),[]),ae=wa(Object(n.useState)(V.getHours()+1),2),te=ae[0],ne=ae[1],re=Object(n.useCallback)((function(e){return Object(Ge.a)(V,G)&&e<=V.getHours()}),[V,G]),ce=Object(n.useCallback)((function(){S&&Object(Ae.SendButtonClickAnalyticsEvent)("cancel_auto_update_step",{labelGroupId:c,labelCurrentStep:T+1}),y()}),[T,c,y,S]);Object(n.useEffect)((function(){W(V),K(x),ne(V.getHours()+1)}),[V,x]);var oe=wa(Object(n.useState)(!1),2),ie=oe[0],le=oe[1],ue=Object(n.useCallback)(Ta(regeneratorRuntime.mark((function e(){var a,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(Be.a)(Object(We.a)(G,{hours:te,minutes:0,seconds:0,milliseconds:0})),n=Object(Be.a)(Object(We.a)(z,{hours:te,minutes:0,seconds:0,milliseconds:0})),le(!0),e.prev=3,e.next=6,j(Ke({vacancyId:(null===(r=m[T])||void 0===r?void 0:r.ids)||t,scheduleType:Z,start:a,end:n},b,S));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return");case 11:return e.prev=11,le(!1),e.finish(11);case 14:if(S&&(Object(Ae.SendButtonClickAnalyticsEvent)("submit_auto_update_step",{labelGroupId:c,labelSubmittedIds:N.join(),labelCurrentStep:T+1}),(o=E.current).push.apply(o,ja(N))),Object(Ae.SendHHAnalyticsEvent)("submit_auto_update",{vacancyId:N.join(),labelGroupId:c,employerId:L,employerManagerId:H.join(),timezoneOffsetHours:q,isMultiSelection:!!S}),!(T<m.length-1)){e.next=21;break}return i=T+1,$(Object.keys(m[i].scheduleTypesWithUpdatesCount)[0]),w(i),e.abrupt("return");case 21:if(!S){e.next=24;break}return v({type:Ea.a,payload:{modalType:Ea.h,data:{failedToUpdate:f,updatedIds:E.current}}}),e.abrupt("return");case 24:y();case 25:case"end":return e.stop()}}),e,null,[[3,8,11,14]])}))),[G,te,z,S,T,m,y,j,t,Z,b,c,N,v,f,L,H,q]),se=wa(Object(n.useState)(I),2),pe=se[0],de=se[1];Object(n.useEffect)((function(){(function(e,a,t,n){return U.a.get("/shards/employer/vacancies/auto_update/count",{params:{amount:n,scheduleType:e,start:Object(Be.a)(a),end:Object(Be.a)(t)}})})(D,G,z,N.length).then((function(e){var a=e.updateCountByScheduleType;de(a)}))}),[t,D,G,z,N.length]);var me=wa(Object(n.useState)(0),2),ye=me[0],ve=me[1];return Object(n.useEffect)((function(){var e=pe[Z];e&&ve(e.count)}),[pe,Z]),r.a.createElement(l.f,{visible:h,onClose:ce},r.a.createElement(l.d,null,r.a.createElement(l.e,null,b?O[e.trls.titleEdit]:O[e.trls.titlePlan]),r.a.createElement("div",{className:"vacancy-auto-update-title-addition"},r.a.createElement("div",{className:"vacancy-auto-update-title-information"},O[e.trls.timezone]),m.length>0&&r.a.createElement("div",{className:"vacancy-auto-update-title-information"},Object(g.a)(O[e.trls.step],{"{0}":T+1,"{1}":m.length})))),r.a.createElement("div",{className:"vacancy-auto-update-popup"},r.a.createElement("div",{className:"vacancy-auto-update-section"},r.a.createElement("div",{className:"vacancy-auto-update-interval"},m[T]&&r.a.createElement(J.a,{bottom:!0},r.a.createElement(Oa,{covered:!0,ids:N,title:O[e.trls.vacanciesGroup]})),r.a.createElement("div",{className:"auto-update-inner-title"},O[e.trls.firstDate]),r.a.createElement("div",{className:"vacancy-auto-update-selectors"},r.a.createElement("div",{className:"vacancy-auto-update-selectors__date","data-qa":"vacancy-auto-update-date-interval-start"},r.a.createElement(ua,{start:V,end:x,date:G,setDate:W,isDisabled:function(e){return e>=z},title:O[e.trls.firstDate]})),r.a.createElement("div",{className:"vacancy-auto-update-selectors__time","data-qa":"vacancy-auto-update-time-interval-start"},r.a.createElement(fa,{time:te,setTime:ne,isDisabled:re,title:O[e.trls.firstTime]}))),r.a.createElement("div",{className:"vacancy-auto-update-interval__description"},O[e.trls.popularTime]),r.a.createElement("div",{className:"vacancy-auto-update-interval__description"},Object(g.e)(O[e.trls.applicantActivityHint],{"{0}":r.a.createElement(Je.a,{to:"https://public.tableau.com/profile/alkadarskiy.selim#!/vizhome/232020_15863625148330/232020",target:"_blank",onClick:function(){Object(Ae.SendButtonClickAnalyticsEvent)("applicant_activity_report_link",{timezoneOffsetHours:q})}},O[e.trls.applicantActivityLink])}))),r.a.createElement("div",{className:"vacancy-auto-update-interval"},r.a.createElement("div",{className:"auto-update-inner-title"},O[e.trls.lastDate]),r.a.createElement("div",{className:"vacancy-auto-update-selectors"},r.a.createElement("div",{className:"vacancy-auto-update-selectors__date","data-qa":"vacancy-auto-update-date-interval-end"},r.a.createElement(ua,{start:V,end:x,date:z,setDate:K,isDisabled:function(e){return e<=G},title:O[e.trls.lastDate]}))),r.a.createElement("div",{className:"vacancy-auto-update-interval__description"},O[e.trls.sameTime]))),r.a.createElement("div",{className:"auto-update-inner-title"},O[e.trls.scheduleType]),r.a.createElement("div",{className:"vacancy-auto-update-frequency"},D.length>1?D.map((function(a){return r.a.createElement(u.d,{baseline:!0,key:a,"data-qa":"vacancy-auto-update-option-".concat(a)},r.a.createElement(Q.a,{name:"scheduleType",checked:Z===a,value:a,onChange:ee},O[e.trls[a]]))})):r.a.createElement(u.d,{baseline:!0,"data-qa":"vacancy-auto-update-option-".concat(Z)},O[e.trls[Z]]))),r.a.createElement("div",{className:"vacancy-auto-update-footer"},r.a.createElement(Ze,{updatesCount:ye,publicationType:C}),r.a.createElement("div",{className:"vacancy-auto-update-spacer"}),r.a.createElement(ta,{publicationType:C,prolongationFailureReason:k})),r.a.createElement(l.c,null,r.a.createElement(s.b,{onClick:ce,"data-qa":"vacancy-auto-update-cancel"},O[e.trls.cancel]),r.a.createElement(u.j,null,r.a.createElement(s.b,{"data-qa":"vacancy-auto-update-submit",disabled:ie,onClick:ue,loading:ie&&r.a.createElement(p.a,null),kind:s.b.kinds.primary},O[e.trls.submit]))))};Sa.displayName="components/AutoUpdateModal/index/AutoUpdateModal",Sa.propTypes={isEdit:o.a.bool,isVisible:o.a.bool,groupId:o.a.string,handleCloseModal:o.a.func,dispatchModal:o.a.func,failedToUpdate:o.a.arrayOf(o.a.number),firstDate:o.a.number,vacancyId:o.a.oneOfType([o.a.number,o.a.arrayOf(o.a.number)]),autoRenewal:Qe.a,renewalSteps:o.a.arrayOf(Qe.a),trls:o.a.object},Sa.trls={firstDate:"vacancy.autoUpdate.firstDate",firstTime:"vacancy.autoUpdate.firstTime",lastDate:"vacancy.autoUpdate.lastDate",popularTime:"vacancy.autoUpdate.popularTime",sameTime:"vacancy.autoUpdate.sameTime",scheduleType:"vacancy.autoUpdate.frequency",applicantActivityHint:"vacancy.autoUpdate.applicantActivity.hint",applicantActivityLink:"vacancy.autoUpdate.applicantActivity.link",EVERY_DAY:"vacancy.autoUpdate.everyDay",EVERY_WORKING_DAY:"vacancy.autoUpdate.everyWorkDay",EVERY_WEEK:"vacancy.autoUpdate.oncePerWeek",EVERY_TWO_WEEKS:"vacancy.autoUpdate.oncePerTwoWeeks",EVERY_SIXTH_DAY:"vacancy.autoUpdate.sixthDay",EVERY_FOURTH_DAY:"vacancy.autoUpdate.fourthDay",titlePlan:"vacancy.autoUpdate.title",titleEdit:"vacancy.autoUpdate.title.edit",timezone:"vacancy.autoUpdate.timezone",step:"vacancy.autoUpdate.step",cancel:"employer.myVacancyes.move.cancel",submit:"vacancy.autoUpdate.schedule",vacanciesGroup:"vacancy.autoUpdate.group.for"};var Aa=Object(m.b)(Sa),Na=t(1259),Ia=function e(a){var t=a.updatedIds,c=void 0===t?[]:t,o=a.failedIds,i=void 0===o?[]:o,u=a.handleCloseModal,p=a.dispatchCheckVacancy,d=a.isVisible,m=a.trls,y=Object(n.useCallback)((function(){p({type:Z.d}),u()}),[p,u]),v=i.length>0;return r.a.createElement(l.f,{visible:d,onClose:y},r.a.createElement(l.d,{outlined:!0},r.a.createElement(l.e,null,m[e.trls.title])),r.a.createElement(l.a,null,r.a.createElement(Na.c,{xs:"4",s:"7",m:"8",l:"8",container:!0},function(){if(!c.length)return null;var a=r.a.createElement(Oa,{ids:c,title:m[e.trls.succeeded]});return v?r.a.createElement(J.a,{bottom:!0},a):a}(),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Oa,{ids:i,title:m[e.trls.failed]}),r.a.createElement("div",{className:"vacancy-auto-update-sub-info"},m[e.trls.failedReason])))),r.a.createElement(l.c,null,r.a.createElement(s.b,{onClick:y,"data-qa":"group_auto_update_summary_close"},m[e.trls.close])))};Ia.displayName="components/AutoUpdateModal/GroupAutoUpdateSummary/GroupAutoUpdateSummary",Ia.propTypes={isVisible:o.a.bool,handleCloseModal:o.a.func,dispatchCheckVacancy:o.a.func,updatedIds:o.a.arrayOf(o.a.number),failedIds:o.a.arrayOf(o.a.number),trls:o.a.object},Ia.trls={succeeded:"vacancy.autoUpdate.group.planned",failed:"vacancy.autoUpdate.group.failed",failedReason:"vacancy.autoUpdate.group.failedReason",title:"vacancy.autoUpdate.title",close:"close"};var Ca=Object(m.b)(Ia),Ma=t(436),_a=t(1471),Ra=function e(a){var t=a.dispatchModal,c=a.handleCloseModal,o=a.vacancyName,i=a.vacancyId,u=a.autoRenewal,p=a.renewalSteps,d=a.isVisible,m=a.isEdit,y=a.trls,v=Object(n.useCallback)((function(){t({type:Ea.a,payload:{modalType:Ea.g,data:{vacancyId:i,vacancyName:o,autoRenewal:u,isEdit:m,renewalSteps:p}}})}),[u,t,m,p,i,o]);return r.a.createElement(l.f,{visible:d,onClose:c},r.a.createElement(l.d,null,r.a.createElement(l.e,null,m?y[e.trls.titleEdit]:y[e.trls.titlePlan])),r.a.createElement(l.a,null,r.a.createElement(Na.c,{xs:"4",s:"7",m:"8",l:"8",container:!0},Object(g.e)(y[e.trls.warning],{"{0}":r.a.createElement(_a.b,{date:u.closestPossibleProlongation,showYear:_a.a.NEVER})}))),r.a.createElement(l.c,null,r.a.createElement(s.b,{onClick:c},y[e.trls.cancel]),r.a.createElement(Ma.a,null,r.a.createElement(s.b,{onClick:v,kind:s.b.kinds.primary},y[e.trls.continue]))))};Ra.displayName="components/AutoUpdateModal/Warning/AutoUpdateWarningModal",Ra.propTypes={isEdit:o.a.bool,isVisible:o.a.bool,dispatchModal:o.a.func,handleCloseModal:o.a.func,vacancyName:o.a.string,firstDate:o.a.number,vacancyId:o.a.number,renewalSteps:o.a.arrayOf(Qe.a),autoRenewal:Qe.a,trls:o.a.object},Ra.trls={titlePlan:"vacancy.autoUpdate.title",titleEdit:"vacancy.autoUpdate.title.edit",warning:"vacancy.autoUpdateWarning.warning",continue:"vacancy.autoUpdateWarning.continue",cancel:"vacancy.autoUpdateWarning.cancel"};var ka=Object(m.b)(Ra);function Ua(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Da=function e(a){var t=a.handleCloseModal,c=a.expireTime,o=a.vacancyId,d=a.isVisible,m=a.vacancyName,y=a.trls,v=Object(i.useDispatch)(),f=Ua(Object(n.useState)(!1),2),b=f[0],h=f[1],O=Object(n.useCallback)((function(){h(!0),v(function(e,a){return function(){var t=ze(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.delete("/shards/employer/vacancies/auto_update/schedule",{params:e});case 3:return t.next=5,U.a.get("/shards/employer/vacancies/get_full_vacancy",{params:e});case 5:r=t.sent.vacancy,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),n(Object(L.a)(t.t0)),t.abrupt("return");case 12:n(Object(V.o)(r)),n(Object(x.a)(q.d,{vacancyId:e.vacancyId,vacancyName:a}));case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}({vacancyId:o},m)).then(t,(function(){return h(!1)}))}),[v,t,o,m]);return r.a.createElement(l.f,{visible:d,onClose:t},r.a.createElement(n.Fragment,null,r.a.createElement(l.d,null,r.a.createElement(l.e,null,y[e.trls.title])),r.a.createElement(l.a,null,Object(g.e)(y[e.trls.description],{"{0}":r.a.createElement(_a.b,{date:c,textify:!0})})),r.a.createElement(l.c,null,r.a.createElement(s.b,{onClick:t,"data-qa":"vacancy-auto-update-remove-close"},y[e.trls.cancel]),r.a.createElement(u.j,null,r.a.createElement(s.b,{onClick:O,kind:s.b.kinds.primary,loading:b&&r.a.createElement(p.a,null),"data-qa":"vacancy-auto-update-remove-submit"},y[e.trls.submit])))))};Da.displayName="components/AutoUpdateModal/Remove/RemoveAutoUpdateModal",Da.propTypes={isVisible:o.a.bool,vacancyName:o.a.string,vacancyId:o.a.number,expireTime:o.a.number,handleCloseModal:o.a.func,trls:o.a.object},Da.trls={title:"vacancy.autoUpdate.remove.title",submit:"vacancy.autoUpdate.remove.submit",cancel:"vacancy.autoUpdate.remove.cancel",description:"vacancy.autoUpdate.remove.description"};var Va=Object(n.memo)(Object(m.b)(Da)),xa=t(1582);function qa(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var La=["NOT_ENOUGH_QUOTAS","NOT_ENOUGH_PUBLICATIONS","NOT_ENOUGH_PERMISSIONS"],Fa=function(e){return Object(Ne.default)(e,"dd.MM.y")},Ha=function e(a){var t=a.schedule,c=t.previousSequentialFailuresCount,o=t.scheduledUpdateTimes,i=t.plannedExpireTime,p=t.nextUpdateWithFailure,m=t.failureReason,v=t.nextFailureIsTheLast,f=t.scheduleParams,b=a.isVisible,O=a.handleCloseModal,E=a.vacancyName,j=a.autoProlongationCanBeCanceled,P=a.expireTime,T=a.dispatchModal,w=a.vacancyId,S=a.trls,A=La.includes(m),N=Object(n.useCallback)((function(e){e.preventDefault(),T({type:Ea.a,payload:{modalType:Ea.k,data:{expireTime:P,vacancyId:w,vacancyName:E}}})}),[T,P,w,E]),I=qa(Object(n.useState)(!1),2),C=I[0],M=I[1],_=Object(xa.c)(w,E,j,T,!0,C,M),R=Object(n.useCallback)((function(e){return Object(g.a)(e,{"{0}":c})}),[c]),k=Object(n.useMemo)((function(){var a=new Date(f.start),t=new Date(f.end),n=a.getHours(),r=a.getMonth()===t.getMonth();return Object(g.a)(S[e.trls.scheduled],{"{0}":S[e.trls[f.type]].toLowerCase(),"{1}":"".concat(n,":00â").concat(n+1,":00"),"{2}":"".concat(a.getDate()).concat(r?"":d.e+S[e.trls["month".concat(a.getMonth())]]),"{3}":"".concat(t.getDate()).concat(d.e).concat(S[e.trls["month".concat(t.getMonth())]])})}),[f.end,f.start,f.type,S]);return r.a.createElement(l.f,{visible:b,onClose:O},r.a.createElement(l.d,null,r.a.createElement(l.e,null,Object(g.a)(S[e.trls.title],{"{0}":E})),r.a.createElement("div",{className:"auto-update-inner-schedule-type"},k," ",r.a.createElement(h.a,{onClick:_,"data-qa":"vacancy-auto-update-edit"},S[e.trls.edit]))),r.a.createElement(l.a,null,r.a.createElement("div",{className:"auto-update-inner-title"},S[e.trls.futureUpdates]),r.a.createElement("div",{className:"auto-update-schedule-container"},o.map((function(a,t){return 0===t&&A&&p?r.a.createElement("div",{key:a,className:"auto-update-schedule auto-update-schedule_failed"},r.a.createElement("div",{className:"auto-update-schedule__date"},Fa(a)),r.a.createElement("div",null,S[e.trls.mayCanceled],d.e,"â ",S[e.trls.failureReasons.short[m]])):r.a.createElement("div",{key:a,className:"auto-update-schedule"},r.a.createElement("div",{className:"auto-update-schedule__date"},Fa(a)),r.a.createElement("div",null,S[e.trls.planed]))})),r.a.createElement("div",{className:"auto-update-schedule auto-update-schedule_expired"},r.a.createElement("div",{className:"auto-update-schedule__date"},Fa(i)),r.a.createElement("div",null,S[e.trls.expired])))),v?r.a.createElement("div",{className:"vacancy-auto-update-failure"},r.a.createElement($e.a,null,r.a.createElement("span",{className:"auto-update-inner-title"},r.a.createElement(y.a,{hasValue:!1,format:R,value:c,one:S[e.trls.failureMany],some:S[e.trls.failureSome],many:S[e.trls.failureMany]}))," ",S[e.trls.lastFailure])):A?r.a.createElement("div",{className:"vacancy-auto-update-failure"},r.a.createElement($e.a,null,S[e.trls.beforeFailure]," ",r.a.createElement("span",{className:"auto-update-inner-title"},S[e.trls.failureReasons.full[m]]))):null,r.a.createElement(l.c,null,r.a.createElement("div",{className:"vacancy-auto-update-link-trigger"},r.a.createElement(h.a,{onClick:N,"data-qa":"vacancy-auto-update-remove"},S[e.trls.removePlaned])),r.a.createElement(u.j,null,r.a.createElement(s.b,{Element:Je.a,kind:s.b.kinds.primary,to:"/price/publications","data-qa":"vacancy-auto-update-price-list"},S[e.trls.priceList]))))};Ha.displayName="components/AutoUpdateModal/UpdatesSchedule/UpdatesSchedule",Ha.propTypes={isVisible:o.a.bool,expireTime:o.a.number,dispatchModal:o.a.func,vacancyName:o.a.string,handleCloseModal:o.a.func,vacancyId:o.a.number,autoProlongationCanBeCanceled:o.a.bool,schedule:o.a.object,trls:o.a.object},Ha.trls={title:"vacancy.autoUpdate.scheduleList",failureSome:"vacancy.autoUpdate.failureSome",failureMany:"vacancy.autoUpdate.failureMany",edit:"vacancy.autoUpdate.edit",priceList:"vacancy.autoUpdate.priceList",futureUpdates:"vacancy.autoUpdate.futureUpdates",planed:"vacancy.autoUpdate.planed",scheduled:"vacancy.autoUpdate.scheduled",removePlaned:"vacancy.autoUpdate.removePlaned",expired:"vacancy.autoUpdate.expired",mayCanceled:"vacancy.autoUpdate.failure.mayCanceled",lastFailure:"vacancy.autoUpdate.lastFailure",beforeFailure:"vacancy.autoUpdate.beforeFailure",month0:"calendar.genitive.month.0",month1:"calendar.genitive.month.1",month2:"calendar.genitive.month.2",month3:"calendar.genitive.month.3",month4:"calendar.genitive.month.4",month5:"calendar.genitive.month.5",month6:"calendar.genitive.month.6",month7:"calendar.genitive.month.7",month8:"calendar.genitive.month.8",month9:"calendar.genitive.month.9",month10:"calendar.genitive.month.10",month11:"calendar.genitive.month.11",EVERY_DAY:"vacancy.autoUpdate.everyDay",EVERY_WORKING_DAY:"vacancy.autoUpdate.everyWorkDay",EVERY_WEEK:"vacancy.autoUpdate.oncePerWeek",EVERY_TWO_WEEKS:"vacancy.autoUpdate.oncePerTwoWeeks",EVERY_SIXTH_DAY:"vacancy.autoUpdate.sixthDay",EVERY_FOURTH_DAY:"vacancy.autoUpdate.fourthDay",failureReasons:{short:{NOT_ENOUGH_PUBLICATIONS:"vacancy.autoUpdate.failure.publications",NOT_ENOUGH_PERMISSIONS:"vacancy.autoUpdate.failure.permissions",NOT_ENOUGH_QUOTAS:"vacancy.autoUpdate.failure.quotas"},full:{NOT_ENOUGH_PUBLICATIONS:"vacancy.autoUpdate.failure.publications.full",NOT_ENOUGH_PERMISSIONS:"vacancy.autoUpdate.failure.permissions.full",NOT_ENOUGH_QUOTAS:"vacancy.autoUpdate.failure.quotas.full"}}};var Ba=Object(n.memo)(Object(m.b)(Ha)),Ga=t(1635),Wa=t(1846);function Ya(){return(Ya=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function za(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ka=function(e){var a=e.handleCloseModal,t=e.isVisible,c=e.authToken,o=e.vacanciesIds,u=za(Object(n.useState)(!0),2),s=u[0],p=u[1],d=Object(i.useSelector)((function(e){return e.request.id})),m=Object(Ga.a)(o[0]),y=Object(n.useRef)(null),v=Object(n.useRef)({width:1,height:1}),f=Object(i.useDispatch)(),b=Object(n.useCallback)((function(e){e.target.contentWindow.postMessage(c,window.globalVars.skillazURL)}),[c]);return Object(n.useEffect)((function(){var e=function(e){var t=e.data,n=t.eventId,r=t.payload,c=e.origin;if(Object(Ga.b)(c)){if("size"===n)return s?(v.current={width:r.width,height:r.height},void p(!1)):void(y.current&&(y.current.width=r.width,y.current.height=r.height));Object(Ga.c)(n,r,d),"success"===n&&r.action in Wa.a&&f(Object(x.a)(r.action)),Object(Ga.d)(n,r)&&a()}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[c,f,a,m,s,t,d,o]),s?r.a.createElement("iframe",Ya({onLoad:b,className:"g-invisible",src:m},v.current)):r.a.createElement(l.f,{visible:t,onClose:a},r.a.createElement("div",null,r.a.createElement("iframe",Ya({src:m,ref:y,onLoad:b},v.current))))};Ka.displayName="components/VideoInterviewModal/index/VideoInterviewModal",Ka.propTypes={isVisible:o.a.bool,handleCloseModal:o.a.func,authToken:o.a.string,vacanciesIds:o.a.array};var Qa=Object(n.memo)(Ka),Ja=t(1903);function Xa(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}var Za=function(e){return function(){var a,t=(a=regeneratorRuntime.mark((function a(t,n){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,U.a.post("/shards/employer/vacancies/auto_publication/disable",{draftId:e});case 3:a.next=9;break;case 5:throw a.prev=5,a.t0=a.catch(0),t(Object(L.a)(a.t0)),a.t0;case 9:return t(Object(x.a)(q.c)),r=n().employerManagerId,t(Object(V.j)(r,e)),a.next=14,t(Object(Ja.a)({params:{managerId:r}},!1));case 14:case"end":return a.stop()}}),a,null,[[0,5]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var c=a.apply(e,t);function o(e){Xa(c,n,r,o,i,"next",e)}function i(e){Xa(c,n,r,o,i,"throw",e)}o(void 0)}))});return function(e,a){return t.apply(this,arguments)}}()};function $a(e,a,t,n,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void t(e)}i.done?a(l):Promise.resolve(l).then(n,r)}function et(e){return function(){var a=this,t=arguments;return new Promise((function(n,r){var c=e.apply(a,t);function o(e){$a(c,n,r,o,i,"next",e)}function i(e){$a(c,n,r,o,i,"throw",e)}o(void 0)}))}}function at(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tt=function e(a){var t=a.isVisible,c=a.handleCloseModal,o=a.draftId,u=a.vacancyName,d=a.trls,m=at(Object(n.useState)(!1),2),y=m[0],v=m[1],f=Object(i.useDispatch)(),b=Object(n.useCallback)(et(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,f(Za(o));case 6:return e.prev=6,v(!1),c(),e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[3,,6,10]])}))),[f,o,c,y]);return r.a.createElement(l.f,{visible:t,onClose:c},r.a.createElement(l.d,{outlined:!0},r.a.createElement(l.e,null,d[e.trls.modalTitle])),r.a.createElement("div",{"data-qa":"vacancy-auto-publication-disable-info"},Object(g.e)(d[e.trls.modalText],{"{name}":u})),r.a.createElement(l.c,null,r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid"},r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid__item"},r.a.createElement(s.b,{stretched:!0,onClick:c},d[e.trls.cancel])),r.a.createElement("div",{className:"vacancy-auto-prolongation-modal-button-grid__item"},r.a.createElement(s.b,{kind:s.b.kinds.primary,stretched:!0,onClick:b,loading:y&&r.a.createElement(p.a,null),"data-qa":"vacancy-auto-publication-disable-button"},d[e.trls.disable])))))};tt.displayName="components/VacancyModals/DisableAutoPublicationModal/DisableAutoPublicationModal",tt.propTypes={isVisible:o.a.bool,handleCloseModal:o.a.func.isRequired,vacancyName:o.a.string,draftId:o.a.number,trls:o.a.object},tt.trls={disable:"employer.vacancies.autoPublication.modal.disable.button",cancel:"employer.vacancies.autoPublication.modal.disable.cancel",modalTitle:"employer.vacancies.autoPublication.modal.disable.title",modalText:"employer.vacancies.autoPublication.modal.disable.text"};var nt=Object(m.b)(tt),rt=t(1659),ct=t(1537),ot=t(1904);function it(){return(it=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var lt=function e(a){var t=a.isVisible,n=a.handleCloseModal,c=a.draftId,o=a.billInfo,i=a.trls;return r.a.createElement(l.f,{visible:t,onClose:n},r.a.createElement(l.d,{outlined:!0},r.a.createElement("div",{className:"vacancies-dashboard-draft-preview vacancies-dashboard-draft-preview_short"},r.a.createElement("div",{className:"vacancies-dashboard-preview-actions"},r.a.createElement("span",{className:"vacancies-dashboard-draft-preview__awaiting-payment"},i[e.trls.awaitingPayment],o&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(ot.a,it({},o,{useGenitive:!0})))),r.a.createElement("div",{className:"vacancy-dashboard-tools"},r.a.createElement(s.a,{stretched:!0},r.a.createElement(ct.a,{id:c,draft:!0,showHidden:!0})))))),r.a.createElement(rt.a,{draftId:c,visible:t,showHidden:!0}))};lt.displayName="components/VacancyModals/AutoPublicationPreviewModal/AutoPublicationPreviewModal",lt.propTypes={isVisible:o.a.bool,handleCloseModal:o.a.func.isRequired,draftId:o.a.number,trls:o.a.object},lt.trls={awaitingPayment:"employer.vacancy.draft.awaitingPayment"};var ut,st=Object(m.b)(lt);function pt(){return(pt=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function dt(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var t=[],n=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return t}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mt(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var yt=function(e,a){switch(a.type){case Ea.a:return a.payload;case Ea.b:return{};default:return e}},vt=(mt(ut={},Ea.k,Va),mt(ut,Ea.c,fe),mt(ut,Ea.d,Fe),mt(ut,Ea.g,Aa),mt(ut,Ea.h,Ca),mt(ut,Ea.i,ka),mt(ut,Ea.j,K),mt(ut,Ea.l,Se),mt(ut,Ea.m,Ba),mt(ut,Ea.n,He.a),mt(ut,Ea.e,nt),mt(ut,Ea.f,st),mt(ut,Ea.o,Qa),ut),ft=function(e){var a=e.handleCloseModal,t=e.dispatchModal,c=e.dispatchCheckVacancy,o=e.modalData,i=o.modalType,l=o.data,u=void 0===l?{}:l,s=dt(Object(n.useState)(!1),2),p=s[0],d=s[1],m=Object(n.useCallback)((function(){d(!1),setTimeout(a,150)}),[a]);if(Object(n.useEffect)((function(){i&&d(!0)}),[i]),!vt[i])return null;var y=vt[i];return r.a.createElement(y,pt({isVisible:p,handleCloseModal:m,dispatchModal:t,dispatchCheckVacancy:c},u))};ft.displayName="components/VacancyModals/index/Modals",ft.propTypes={dispatchModal:o.a.func,handleCloseModal:o.a.func,dispatchCheckVacancy:o.a.func,modalData:o.a.shape({type:o.a.string,data:o.a.object})};a.a=Object(n.memo)(ft)}}]);
//# sourceMappingURL=32.ec4b81015da1bde1a10f.js.map