(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1605:function(t,e,r){"use strict";var n=r(1),o=r.n(n),i=r(1445),a=r(1450),c=r(0),u=r.n(c),s=r(1259),l=r(245),p=r(45),f=r(430),b=r(1505),m=r(1466),y=r(1444),d=r(1468),v=r(1465),h=r(1538);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?A(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=function(t){function e(){var t,r;w(this,e);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return _(A(r=P(this,(t=S(e)).call.apply(t,[this].concat(i)))),"state",{collection:r.getCollection(),dataProvider:Object(l.a)(r.getCollection().toList())}),_(A(r),"render",(function(){var t=r.props,n=t.conditions,i=t.trls;return o.a.createElement(f.h,null,o.a.createElement(v.a,{xs:!0},i[e.trls.citizenship]),o.a.createElement(a.a,{name:"citizenship",render:function(t){var a=t.input,c=t.meta;return o.a.createElement(s.c,{xs:"4",s:"8",m:"4",l:"4",container:!0,"data-qa":"resume-citizenship"},o.a.createElement(h.a,g({},a,{dataQaPrefix:"resume-citizenship",invalid:Object(m.c)(c),collection:r.state.collection,dataProvider:r.state.dataProvider,error:o.a.createElement(d.a,{meta:c,trlPrefix:"citizenship"}),maxcount:n.maxcount,mobile:i[e.trls.mobile],title:i[e.trls.citizenship]})))}}))})),r}var r,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,t),r=e,(n=[{key:"componentDidUpdate",value:function(t){if(this.props.areaTree!==t.areaTree){var e=this.getCollection();this.setState({collection:e,dataProvider:Object(l.a)(e.toList())})}}},{key:"getCollection",value:function(){return Object(p.d)(this.props.areaTree.reduce((function(t,e){var r=e.id,n=e.text,o=e.items;return r===b.c?t.concat(o.map((function(t){return{id:t.id,text:t.text}}))):[].concat(j(t),[{id:r,text:n}])}),[]).sort((function(t,e){return t.text.localeCompare(e.text)})))}}])&&E(r.prototype,n),i&&E(r,i),e}(n.PureComponent);C.trls={citizenship:"rb.edit.citizenship",mobile:"rb.edit.citizenship.add"},C.propTypes={areaTree:u.a.array,conditions:u.a.object,trls:u.a.object};var T=Object(y.b)(C);e.a=Object(i.connect)((function(t){return{areaTree:t.areaTree,conditions:t.resumeFormConditions.citizenship}}))(T)},1875:function(t,e,r){"use strict";var n=r(1),o=r(0),i=r.n(o),a=r(40);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?p(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=function(t){function e(){var t,r;u(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return b(p(r=s(this,(t=l(e)).call.apply(t,[this].concat(o)))),"sentInputs",{}),b(p(r),"componentDidUpdate",(function(t){if(r.props.active!==t.active&&void 0!==t.active){var e=t.active.replace(/\[[0-9*]]/g,"");e in r.sentInputs||(r.sentInputs[e]=!0,a.default.trackAnalyticsEvent("form",r.props.eventName,e))}})),b(p(r),"render",(function(){return null})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(n.PureComponent);m.propTypes={active:i.a.string,eventName:i.a.string},e.a=m},1885:function(t,e,r){"use strict";var n=r(1),o=r.n(n),i=r(0),a=r.n(i),c=r(111),u=r(1259),s=r(1475),l=r(1485);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function f(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var b=function(t){var e=t.disabled,r=f(t,["disabled"]),n=Object(s.a)(),i=Object(l.a)(),a=i.containerBreakPoints,b=i.controlBreakPoints;return o.a.createElement(u.c,p({},a,{container:!0}),o.a.createElement(u.c,{xs:"0",s:"0",m:"3",l:"3"}),o.a.createElement(u.c,b,o.a.createElement(c.b,p({type:c.b.types.submit,"data-qa":"resume-submit",kind:c.b.kinds.primary,scale:c.b.scales.large,disabled:!n||e},r))))};b.displayName="components/ResumeForm/Submit/Submit",b.propTypes={children:a.a.node},e.a=b},1954:function(t,e,r){"use strict";var n=r(1),o=r.n(n),i=r(1450),a=r(1492),c=r(1445),u=r(1666),s=r(0),l=r.n(s),p=r(1484),f=r(1515),b=r(1874),m=r(1466),y=r(1558),d=r(27),v=r(1667),h=r(1449),O=r(1505),j=r(1454),g=r(1460),w=r(1595),E=r(1459),P=r(1854);function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H=Object(j.e)("resumeFormConditions"),z="completion_blocked",V="completion",D="short",N=function(t,e){return t?z:e?V:D},U=function(t){function e(t){var r,n,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,c=C(e).call(this,t),r=!c||"object"!==A(c)&&"function"!=typeof c?T(n):c,F(T(r),"sendAnalytics",(function(t){var e=t.submit;return t.submit=function(){var n=N(r.props.moderation,r.props.completion),o=t.getState().errors;if(0!==Object.entries(o).length){var i=Object.fromEntries(Object.entries(o).map((function(t){var e=_(t,2),r=e[0],n=e[1];return[r,n[a.a]?[].concat(x(n),[{fieldError:n[a.a]}]):x(n)]}))),c=n===z?"applicantResumeCorrectionError":"applicantResumePublicationError";Object(d.SendHHAnalyticsEvent)(c,{sourcePage:n,resumeHash:r.props.hash,errors:JSON.stringify(i)})}var u=n===z?"applicantResumeCorrectionAttempt":"applicantResumePublicationAttempt";return Object(d.SendHHAnalyticsEvent)(u,{sourcePage:n,source:r.props.attributes.source,resumeHash:r.props.hash,resumeId:r.props.attributes.id,userResumesFinished:r.props.applicantInfo.finished,userResumesVisible:r.props.applicantInfo.visible,userResumesSearchable:r.props.applicantInfo.searchable,userResumesTotal:r.props.applicantInfo.total}),e.call(t)},function(){t.submit=e}})),F(T(r),"updateConditions",(function(t){var e=r.initialValues;return t.subscribe((function(t){if(t.values!==e){var n=Object(b.a)(t.values,r.conditions,r.props.attributes);n!==r.conditions&&(r.conditions=n,r.props.conditionsAction(n)),e=t.values}}),{values:!0})})),F(T(r),"decorators",[r.updateConditions,m.d,r.sendAnalytics,Object(m.b)(r.props.name)]),F(T(r),"mutators",I({},u.a,{setValue:f.b.setValue})),F(T(r),"handleSubmit",(function(t){r.props.publishResume({resume:r.props.hash,vacancy_id:null!==r.props.vacancy?r.props.vacancy.id:null,completion:r.props.completion,moderation:r.props.moderation,fromapp:r.props.attributes.fromapp,backurl:r.props.backUrl},Object(y.a)(t))})),F(T(r),"validate",(function(t){return Object(v.a)(t,r.conditions)})),F(T(r),"render",(function(){return o.a.createElement(i.b,{component:r.props.component,initialValues:r.initialValues,decorators:r.decorators,mutators:r.mutators,onSubmit:r.handleSubmit,validate:r.validate,validateOnBlur:!0})}));var s=r.props,l=s.values,p=s.defaults,h=s.attributes,O=s.conditions,j=s.formType,g=void 0===j?"full":j;return r.initialValues=Object(y.b)(l,p,O,h,g),r.conditions=Object(b.a)(r.initialValues,O,h),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),e}(n.PureComponent);U.propTypes={applicantInfo:l.a.object,name:l.a.string,component:l.a.any,hash:l.a.string,conditions:l.a.object,defaults:l.a.object,values:l.a.object,attributes:l.a.object,publishResume:l.a.func,vacancy:l.a.object,search:l.a.string,backUrl:l.a.string,conditionsAction:l.a.func,completion:l.a.bool,moderation:l.a.bool,formType:l.a.string,isExperimentEnabled:l.a.func,isExperimentControlEnabled:l.a.func};var J,B;e.a=Object(c.connect)((function(t){return{applicantInfo:t.applicantInfo,hash:t.resumeFormHash,conditions:t.resumeFormConditions,defaults:t.resumeFormDefaults,values:t.resumeFormFields,attributes:t.resumeFormAttributes,vacancy:t.resumeFormVacancy,search:t.router.location.search,backUrl:t.backUrl}}),{publishResume:function(t,e){return function(r){return h.a.post("/applicant/resumes/short",e,{params:I({publish:!0},t)}).then((function(t){var e=t.data;window.location.assign(e.url)}),(function(e){var n,o;e.response&&e.response.data&&e.response.data.error===O.b?(r(Object(g.a)(w.a,void 0,!0)),n=w.a):(r(Object(E.a)(e)),n=(null===(o=e.response)||void 0===o?void 0:o.data)?JSON.stringify(e.response.data):"unknownServerError");var i=N(t.moderation,t.completion),a=i===z?"applicantResumeCorrectionError":"applicantResumePublicationError";Object(d.SendHHAnalyticsEvent)(a,{sourcePage:i,resumeHash:t.resume,errors:JSON.stringify({serverError:n})})}))}},conditionsAction:H},(function(t,e,r){return I({},r,{},t,{},e,{completion:"resume-completion"===r.name,moderation:t.attributes.status===p.a})}))((J=U,(B=function(t){var e=Object(P.a)(),r=Object(P.b)();return o.a.createElement(J,S({},t,{isExperimentEnabled:e,isExperimentControlEnabled:r}))}).displayName="components/HOCExperiment/index/Experiment",B))}}]);
//# sourceMappingURL=21.8924d2d124ba1aa1fba5.js.map