function CityPickerWork(options,inputSelector,hiddenSelector){var hidden=document.querySelector(hiddenSelector);var input=document.querySelector(inputSelector);if(!hidden||!input)return;jQuery(input).autocomplete({minLength:0,selectFirst:true,autoFocus:true,source:function(request,response){var query=request.term.toLowerCase();var results=options.filter(function(option){return option.label.toLowerCase().indexOf(query)===0;});response((results.length?results:options));},select:function(event,ui){jQuery(hidden).val(ui.item.id);},open:function(){$(this).autocomplete('widget').css({width:jQuery(this).outerWidth()});jQuery('.icon-move').addClass('up');},close:function(){jQuery('.icon-move').removeClass('up');}}).on('click',function(){$(this).select().autocomplete('search','').trigger('focus');}).on('keydown',function(event){if(event.keyCode===13){event.preventDefault();event.stopPropagation();var linkHref=$('a[id$="lnkSearch"]').attr('href');if(linkHref){window.location=linkHref;}}}).on('autocompletechange',function(){if($(this).data('ui-autocomplete').selectedItem===null){$(this).data('ui-autocomplete').menu.element.children('li:first').children('a').trigger('click');}}).data('ui-autocomplete')._renderItem=function(ul,item){return $('<li></li>').data('item.autocomplete',item).append($('<a></a>').addClass('f-autocomplete-city-'+item.id).html(this.term?item.label.replace(new RegExp('^('+this.term.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g).replace('\\$&')+')','gi'),'<b>$1</b>'):item.label)).appendTo(ul);};jQuery(input).autocomplete('widget').addClass('f-autocomplete-scrollable');}